"use strict";(self.webpackChunksparklingv2=self.webpackChunksparklingv2||[]).push([[213],{1957:(V,z,l)=>{l.d(z,{R:()=>K});var s=l(8239),t=l(7716),U=l(1659),y=l(2238),e=l(1095),k=l(8583);function O(u,w){if(1&u){const o=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(p){t.CHM(o);const d=t.oxw();return null==d.data?null:d.data.actionDone(p)}),t._uU(1,"Done"),t.qZA()}}function L(u,w){if(1&u){const o=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(p){return t.CHM(o),t.oxw().promptToPay(p)}),t._uU(1,"Subscribe"),t.qZA()}}let Y=(()=>{class u{constructor(o){this.data=o}ngOnInit(){}promptToPay(o){var n;null===(n=this.data)||void 0===n||n.actionPayment(o)}}return u.\u0275fac=function(o){return new(o||u)(t.Y36(y.WI))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-dialog"]],decls:11,vars:4,consts:[["mat-dialog-title",""],[1,"container-fluid","text-white"],[1,"mat-typography"],[1,"container-fluid"],[3,"innerHTML"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","","class","sub-btn",3,"click",4,"ngIf"],["mat-button","","cdkFocusInitial","",1,"sub-btn",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"h2",0),t.TgZ(1,"div",1),t._uU(2),t.qZA(),t.qZA(),t.TgZ(3,"mat-dialog-content",2),t.TgZ(4,"div",3),t._UZ(5,"div",4),t.qZA(),t.qZA(),t.TgZ(6,"mat-dialog-actions",5),t.TgZ(7,"button",6),t._uU(8,"Close"),t.qZA(),t.YNc(9,O,2,0,"button",7),t.YNc(10,L,2,0,"button",7),t.qZA()),2&o&&(t.xp6(2),t.hij(" ",null==n.data||null==n.data.app?null:n.data.app.long_name," "),t.xp6(3),t.Q6J("innerHTML",null==n.data?null:n.data.html,t.oJD),t.xp6(4),t.Q6J("ngIf",null==n.data?null:n.data.actionDone),t.xp6(1),t.Q6J("ngIf",null==n.data?null:n.data.actionPayment))},directives:[y.uh,y.xY,y.H8,e.lW,y.ZT,k.O5],styles:[".tp[_ngcontent-%COMP%]{color:#000!important}mat-dialog-content[_ngcontent-%COMP%]{background-color:#fff!important}.mat-dialog-container[_ngcontent-%COMP%]{background-color:#fff!important}.mat-dialog-title[_ngcontent-%COMP%]{color:#000!important}.sub-btn[_ngcontent-%COMP%]{border:2px solid}"]}),u})();var D=l(5917),J=l(8002),Q=l(3190),W=l(3342),j=l(2340),b=l(4758),Z=l(5708),h=l(5947),f=l(7613),C=l(4655),I=l(836);function F(u,w){if(1&u){const o=t.EpF();t.TgZ(0,"div",4),t.NdJ("mouseenter",function(p){return t.CHM(o),t.oxw().mouseEnter(p)})("mouseleave",function(p){return t.CHM(o),t.oxw().mouseLeave(p)}),t._UZ(1,"input",5),t.ALo(2,"async"),t.ALo(3,"async"),t.TgZ(4,"label",6),t.TgZ(5,"div",7),t._uU(6,"Unlock"),t.qZA(),t.TgZ(7,"div",8),t._UZ(8,"div",9),t._UZ(9,"div",10),t.qZA(),t._UZ(10,"div",11),t.qZA(),t.qZA()}if(2&u){const o=t.oxw();t.xp6(1),t.Q6J("id",o.id),t.uIk("readonly",!t.lcZ(2,6,o.subscried$)||null)("disabled",!t.lcZ(3,8,o.subscried$)||null),t.xp6(3),t.Udp("font-size",o.fontSize),t.s9C("for",o.id)}}function P(u,w){if(1&u&&(t.TgZ(0,"div",12),t.TgZ(1,"p",13),t.O4$(),t.TgZ(2,"svg",14),t._UZ(3,"path",15),t.qZA(),t._uU(4),t.kcU(),t.TgZ(5,"span",16),t._uU(6),t.TgZ(7,"strong"),t._uU(8),t.qZA(),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"p",17),t._uU(11),t.TgZ(12,"sup",18),t._uU(13," / Year"),t.qZA(),t.qZA(),t.qZA()),2&u){const o=t.oxw();t.xp6(4),t.hij("\xa0",null==o.app?null:o.app.long_name,": "),t.xp6(2),t.hij(" ",null==o.app?null:o.app.short_name," with an app code "),t.xp6(2),t.Oqu(null==o.app?null:o.app.code),t.xp6(1),t.AsE(". This app cost \u20a6",null==o.app?null:o.app.fee," / year. Click to view total package, information or subscribe to ",null==o.app?null:o.app.long_name," "),t.xp6(2),t.hij("\u20a6",null==o.app?null:o.app.fee," ")}}const $=function(u,w,o){return{locked:u,epd:w,optiontoselect:o}};let K=(()=>{class u{constructor(o,n,p,d,g,_,x,S,T,A){this._devServ=o,this.viewContainerRef=n,this._us=p,this.flutterwave=d,this.ss=g,this._cs=_,this.dialogModule=x,this.router=S,this.aps=T,this.route=A,this.id="",this.fontSize="3px",this.height="70",this.app=null,this.accessFullData=null,this.company=null,this.dialog=null,this.selected=!1,this.showDetails=!1,this.mouse=!1,this.apps$=(0,D.of)(this.route.snapshot.data.fromResolverAppResolver.apps),this.publicKey=j.N.flutter_public_key,this.customizations={title:"",description:"",logo:""},this.subscried$=(0,D.of)(this.route.snapshot.data.fromResolverAppResolver.subscription.subscriptions).pipe((0,J.U)(M=>{const q=new Date(Date.now());return M.findIndex(N=>N.app.code==this.app.code&&"Active"==N.status&&new Date(N.expires_at).getTime()>=q.getTime())>-1})),this.meta={counsumer_id:"",consumer_mac:""},this.user=null,this.customerDetails={name:"",amount:0,email:"",phone_number:""},this.paymentData={public_key:this.publicKey,tx_ref:`APPSUB-${this.ss.generateRandomAlphanumeric(15)}`,amount:10,currency:"GBP",payment_options:"card,ussd",meta:this.meta,customer:this.customerDetails,customizations:this.customizations}}ngAfterViewInit(){const o=document.getElementById(this.id);this.aps.subscribedApps$.subscribe(p=>console.log(p)),this.subscried$.subscribe(p=>console.log(p)),o&&o.addEventListener("input",p=>{})}ngOnInit(){}mouseEnter(o){this.mouse=!0}closeRightIf(){const o=document.getElementById("close-sidebar-right-tgds");o&&o.click()}unlock(o){var n=this;return(0,s.Z)(function*(){n.subscried$.subscribe(p=>{p?(n._devServ.showSpinner(),setTimeout(()=>{n.aps.selectedApp.next(n.app),n.aps.subscribedApps=n.app,n.aps.onoingApp=n.app,n.aps.appcode=n.app.code,n.changeApp(n.app),n._devServ.hideSpinner()},1500)):(n.dialog=n.openDialog(),n.dialog.afterClosed().subscribe(d=>{d.transaction&&"successful"==d.transaction.status&&(n.dialog=n.dialogModule.open(Y,{hasBackdrop:!0,disableClose:!0,data:{app:n.app,list:n.list,subscription:d,pagetype:"success",spinnerName:`${n.app.code}Spinner`,html:n.successHtml(d.transaction),actionDone:g=>{n.dialog.close()}}}),n.dialog.afterOpened().subscribe(g=>{}))}),n.dialog.afterOpened().subscribe(d=>{}))})})()}mouseLeave(o){this.mouse=!1}changeApp(o){let n="";"ZA-001"==o.code?n="/admin":"ZA-002"==o.code&&(n="/accounting"),this.router.navigateByUrl(n,{skipLocationChange:!0}).then(()=>{this.router.navigate([`${n}/home`]),localStorage.setItem("_appPage",n)})}openDialog(){var n,p,d,o=this;return this.dialogModule.open(Y,{hasBackdrop:!0,disableClose:!0,data:{app:this.app,list:this.list,locked:this.lock,html:"ZA-001"==(null===(n=this.app)||void 0===n?void 0:n.code)?this.hrHTml:"ZA-002"==(null===(p=this.app)||void 0===p?void 0:p.code)?this.accountHTml:this.html,spinnerName:`${this.app.code}Spinner`,actionPayment:(d=(0,s.Z)(function*(g){if(g.preventDefault(),o._us.getuser()&&o._us.getuser().code)return o._devServ.oInfoNotification("Payment processing","Please wait while we process your payment."),void(yield o.makePayment());o.router.navigate(["auth/login"]).finally(()=>{setTimeout(()=>{o._devServ.oInfoNotification("Authentication required","Please login to subscribe to one of our apps. For guest, kindly register/Join Us to subscribe."),o.dialog.close()},600)})}),function(_){return d.apply(this,arguments)})}})}get list(){return this.aps.listOfAppsValue}get hrHTml(){return`\n    <div class="row pd-10">\n      <div class="col-md-8 pt-10">\n        <h1 class"text-primary pb-10">Summary</h1>\n            <p class="text-primary">The productivity power couple optimizes employee engagement at all levels.\n          ZINDER Helps simplify users' tasks related to the security, protection and use of their data.\n          Zinder was launched in 2023 as one of the first companies to track employees. With  the latest times and versions.\n          zinder helps provide comprehensive information about employees' IT work activities, forensics, user behavior analysis, data loss prevention, etc\n          to make the workplace efficient and safe. ZINDER provides reliable service to all industries such as education, finance, business sector, government offices , healthcare, E-Commerce, call center, etc.\n          </p>\n        <h2 class"text-primary pb-10">ZINDER MONITORING SOFTWARE</h2>\n        <p class="text-primary pb-10 font-weight-200">Improving team performance by increasing team productivity is the key to having a high performing team. With employee monitoring software, keep track of your distributed workforce and pave the way to greater team success.</p>\n        <h2 class"text-primary pb-10">ZINDER TIME TRACKING</h2>\n        <p class="text-primary pb-10 font-weight-200">\n        Get  insights into employee work styles during their shifts. Easily identify time patterns  and see your best performance with automated reports. Access time-tracking software and improve employee productivity with intuitive, real-time timesheets that reflect activity statistics. ZINDER Integral Threat Prevention. Track employees' use of company assets, including attempted activity on compromised or restricted platforms. Identify employee intimidation with negligent or malicious intent that your KYE process may have missed.\n        </p>\n        <h2 class"text-primary pb-10">Smart Team</h2>\n        <p class="text-primary pb-10 font-weight-200">\n        We are a group of dedicated, connoisseurs who apply our knowledge and guidance to  everything we build, say and do on behalf of our clients.\n        </p>\n        <h2 class"text-primary pb-10"> Sustainable solution</h2>\n        <p class="text-primary pb-10 font-weight-200">Our carefully designed tools make it easy to uncover key insights and drive action for success.</p>\n        <h2 class"text-primary pb-10">Solid support</h2>\n        <p class="text-primary pb-10 font-weight-200">\n        Whenever you need to get in touch, it's simple to contact us. EmpMonitor provides unlimited access to our support team to every user. Positive results, We help you visualize and realize your most important results and suggest a roadmap to get there.\n        </p>\n        <h2 class"text-primary pb-10">Our Specialty</h2>\n        <p class="text-primary pb-10 font-weight-200">ZINDER's 4S is trusted by thousands of people! ZINDER comes with a unique set of workforce monitoring features and employee empowerment vision.\n        </p>\n        <h2 class"text-primary pb-10">Request access</h2>\n        <p class="text-primary pb-10 font-weight-200">Additional modules for your workforce management needs, Deep. Smooth. no trouble\n        </p>\n        <h2 class"text-primary pb-10">Time tracking</h2>\n        <p class="text-primary pb-10 font-weight-200">Effectively track every minute of your employees' working hours, eliminate any unnecessary gaps, and increase productivity.  Screenshots, Get automatic screenshots at custom intervals to get workflow insights in a single dashboard for better review.\n        </p>\n        <h2 class"text-primary pb-10">Chat monitoring</h2>\n        <p class="text-primary pb-10 font-weight-200">Increase your team's focus  by tracking total time spent on chat and social apps during business hours.\n        </p>\n        <h2 class"text-primary pb-10">In-depth report</h2>\n        <p class="text-primary pb-10 font-weight-200">Visualize employee engagement and perform  flawless team analysis with  automated timesheets and chart-rich analytics reports.\n        </p>\n        <h2 class"text-primary pb-10">Using apps and websites</h2>\n        <p class="text-primary pb-10 font-weight-200">Find out what websites and apps employees use and how much time they spend at work and non-work-related activities.</p>\n        <h2 class"text-primary pb-10">Stealth mode</h2>\n        <p class="text-primary pb-10 font-weight-200">Monitor with minimal software exposure. It does not appear in the program list or be recognized by the Task Manager.\n        </p>\n        <h2 class"text-primary pb-10">Warnings and notices</h2>\n        <p class="text-primary pb-10 font-weight-200">Set limits and receive regular notifications to keep you informed of employee inactivity, inefficiencies, and downtime.\n        </p>\n        <h2 class"text-primary pb-10">Prevent data loss</h2>\n        <p class="text-primary pb-10 font-weight-200">Seamlessly block unauthorized websites, restrict access to specific applications,  prevent USB detection with DLP software, and maintain data integrity.\n        </p>\n        <h2 class"text-primary pb-10">Geolocation tracking</h2>\n        <p class="text-primary pb-10 font-weight-200">Deep dive into user information including IP address, operating system type, device type, city, region, country, and even view it all on a dynamic map.\n        New</p>\n        <h2 class"text-primary pb-10"> Privacy and security</h2>\n        <p class="text-primary pb-10 font-weight-200">We respect employee privacy with  best-in-class encryption technology, helping them draw the line between corporate security and employee privacy.\n        </p>\n        <h2 class"text-primary pb-10">Time attendance diary</h2>\n        <p class="text-primary pb-10 font-weight-200">Track employee login and logout schedules with this time tracking software to help you  track  your team's productive hours.\n        </p>\n      </div>\n      <div class="text-primary col-md-4">\n        <div class="card-box min-height-200px pd-20 mb-20">\n        <div class="row">\n          <div class="col-md-6 text-left">\n          <h2 class="mb-2 h2 font-18">Features & Pricing</h2>\n\n          </div>\n          <div class="col-md-6 text-right">\n          <h2 class="mb-2 h2 font-18">\u20a6${this.app.fee}/year</h2>\n          </div>\n        </div>\n          <ul class="list-group">\n\t\t\t\t\t\t\t\t\t<li class="list-group-item">Live chat: Enjoy chatting with your employees online</li>\n\t\t\t\t\t\t\t\t\t<li class="list-group-item list-group-item-primary">\n                  Recruitment: Create and manage job positions, opening/vacancy, receive and respond to applications\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="list-group-item list-group-item-secondary">\n                  Employee: Keep un-ending historical records of employees, monitor employees progress, unboarding, and more\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="list-group-item list-group-item-success">\n                  Department: Create and manage department activities\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="list-group-item list-group-item-danger">\n                  File Storage\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="list-group-item list-group-item-warning">\n                  Attendance & Schedule\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="list-group-item list-group-item-info">\n                  Leave and Holidays\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="list-group-item list-group-item-dark">\n                  Account Management\n\t\t\t\t\t\t\t\t\t</li>\n\n                  <li class="list-group-item list-group-item-secondary">\n                  Team Management\t\t\t\t\t\t\t\t\t</li>\n                  <li class="list-group-item list-group-item-warning">\n                  Events & Calendar\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="list-group-item list-group-item-info">\n                  Leave and Holidays\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="list-group-item list-group-item-danger">\n                  Record Ownership & Export\n\t\t\t\t\t\t\t\t\t</li>\n\n                  <li class="list-group-item list-group-item-primary">\n                  Record Trackng\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="list-group-item list-group-item-secondary">\n                  Mailing System\n                  </li>\n\t\t\t\t\t\t\t\t\t<li class="list-group-item list-group-item-success">\n                  Notification Syncing\n                  </li>\n\t\t\t\t\t\t\t\t</ul>\n        <div>\n      </div>\n  </div>\n`}get accountHTml(){return`\n    <div class="row pd-10">\n      <div class="col-md-8 pt-10">\n      <div class="app-landing-content">\n      <h1 class="text-dark text-primary">Welcome to Zinder Accounting</h1>\n      <p class="text-dark text-primary">Empower your business with our comprehensive accounting solution tailored for enterprise needs. Explore the key features below:</p>\n  \n      <div class="feature-list">\n          <h2 class="text-dark text-primary">Core Accounting Features:</h2>\n          <ul>\n              <li class="text-dark text-primary"><strong>Wallets:</strong> Manage user-generated and system-generated wallets securely.</li>\n              <li class="text-dark text-primary"><strong>Transfers:</strong> Seamlessly transfer funds between different accounts and wallets.</li>\n              <li class="text-dark text-primary"><strong>Swap Currencies:</strong> Conduct currency swaps effortlessly, ensuring financial flexibility.</li>\n              <li class="text-dark text-primary"><strong>Withdrawal:</strong> Facilitate easy and secure withdrawal processes for users.</li>\n              <li class="text-dark text-primary"><strong>Reports:</strong> Access detailed financial reports for informed decision-making.</li>\n              <li class="text-dark text-primary"><strong>Beneficiaries:</strong> Manage and update beneficiaries for efficient fund distribution.</li>\n              \x3c!-- Add more modules as needed --\x3e\n          </ul>\n      </div>\n  \n      <h2 class="text-dark text-primary">Why Choose Zinder Accounting?</h2>\n      <p class="text-dark text-primary">Our accounting app is designed to meet the diverse needs of your enterprise. Whether you're managing financial transactions, facilitating fund transfers, or generating detailed reports, Zinder Accounting has you covered.</p>\n  \n      <h2 class="text-dark text-primary">Subscribe Now for a Seamless Accounting Experience!</h2>\n      <p class="text-dark text-primary">Join thousands of enterprises who trust Zinder Accounting for their financial management. Subscribe now to unlock a world of features and elevate your accounting processes.</p>\n  \n      <p class="text-dark text-primary">Unlock the full potential of your financial operations with Zinder Accounting. Subscribe now to revolutionize your enterprise's accounting experience.</p>\n\n  </div>\n  \n      </div>\n      <div class="text-primary col-md-4">\n        <div class="card-box min-height-200px pd-20 mb-20">\n        <div class="row">\n          <div class="col-md-6 text-left">\n          <h2 class="mb-2 h2 font-18">Features & Pricing</h2>\n\n          </div>\n          <div class="col-md-6 text-right">\n          <h2 class="mb-2 h2 font-18">\u20a6${this.app.fee}/year</h2>\n          </div>\n        </div>\n        <div class="feature-list">\n        <h3>Core Accounting Features:</h3>\n        <ul class="list-group">\n          <li class="list-group-item">Wallet Management</li>\n          <li class="list-group-item">Transfer Funds</li>\n          <li class="list-group-item">Currency Swap</li>\n          <li class="list-group-item">Withdrawal Requests</li>\n          <li class="list-group-item">Comprehensive Reporting</li>\n          <li class="list-group-item">Beneficiaries Management</li>\n        </ul>\n      </div>\n      <div class="additional-modules">\n        <h3>Additional Modules:</h3>\n        <ul class="list-group">\n          <li class="list-group-item">Invoice Management</li>\n          <li class="list-group-item">Expense Tracking</li>\n          <li class="list-group-item">Payroll System</li>\n          <li class="list-group-item">Tax Management</li>\n          <li class="list-group-item">Financial Forecasting</li>\n          \x3c!-- Add more modules as needed --\x3e\n        </ul>\n      </div>\n          \n        <div>\n      </div>\n  </div>\n`}get html(){var o,n,p,d,g,_,x,S,T,A,M,q,N;return`\n      <div class="row mb-5">\n      <div class="col-md-12">\n      <h3 class="text-primary">${null===(o=this.app)||void 0===o?void 0:o.short_name}</h3>\n      </div>\n\n      <div class="col-md-8 mb-5">\n      <p class="text-primary">${(null===(n=this.app)||void 0===n?void 0:n.short_name).repeat(30)} ${(null===(p=this.app)||void 0===p?void 0:p.long_name).repeat(30)}</p>\n\n    <h3 class="text-primary">Code: ${null===(d=this.app)||void 0===d?void 0:d.code}</h3>\n    <p class="text-primary">${(null===(g=this.app)||void 0===g?void 0:g.code).repeat(30)} ${(null===(_=this.app)||void 0===_?void 0:_.long_name).repeat(50)}</p>\n\n    <h3 class="text-primary">Code: ${null===(x=this.app)||void 0===x?void 0:x.long_name}</h3>\n    <p class="text-primary">${(null===(S=this.app)||void 0===S?void 0:S.long_name).repeat(10)} ${(null===(T=this.app)||void 0===T?void 0:T.short_name).repeat(40)}</p>\n    </div>\n    <div class="col-md-4 col-lg-4 mb-5">\n        <div class="card-box pricing-card-style2">\n            <div class="pricing-card-header">\n                <div class="left">\n                    <h5 class="text-primary">${null===(A=this.app)||void 0===A?void 0:A.short_name}</h5>\n                    <p class="text-primary">${null===(M=this.app)||void 0===M?void 0:M.long_name}</p>\n                </div>\n                <div class="right">\n                    <div class="pricing-price"><stroke>N</stroke>${null===(q=this.app)||void 0===q?void 0:q.fee}<span>/year</span></div>\n                </div>\n            </div>\n            <div class="pricing-card-body">\n                <div class="pricing-points">\n                    <ul>\n                    ${Array.from(null===(N=this.app)||void 0===N?void 0:N.code).map((G,X)=>'<li class="text-primary">'+G+": "+this.app.short_name+".</li>").toString()}\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n\n  </div>\n    `}successHtml(o){var n,p,d,g;const _=this._us.getuser();return`\n    <div class="row mb-5">\n    <div class="col-md-12 pt-5">\n    <h3 class="text-primary">Dear ${_.firstName} ${_.lastName}</h3>\n    </div>\n\n    <div class="col-md-12 text-left mb-5">\n    <p class="text-primary">Thank you for subscribing to our ${null===(n=this.app)||void 0===n?void 0:n.long_name}</p>\n    <p class="text-primary">The ${null===(p=this.app)||void 0===p?void 0:p.short_name} Newsletter is the best way to follow up on our weekly update ...and beyond.<br>\n    Once or twice a month, you will now receive our newsletter with information about ${null===(d=this.app)||void 0===d?void 0:d.long_name}, updates related to ${null===(g=this.company)||void 0===g?void 0:g.name}, insights, as well as new discoveries and much more. Of course, you can manage your subscription preference anytime.\n    </p>\n    <p class="text-primary">We're really happy to have you on board!<br>\n    Best regards,<br>\n    The Zinder team.\n    </p>\n\n  <h3 class="text-primary">Subscription Info</h3>\n  <p class="text-primary">Your payment with reference #${o.flw_ref} of ${o.amount} ${o.currency} was ${o.status}</p>\n  </div>\n</div>\n  `}get lock(){return this.aps.listOfSubscribedApps.findIndex(o=>{var n;return o.app.code==(null===(n=this.app)||void 0===n?void 0:n.code)})<0||this.selected}subscibe(o,n){const p=this._cs.runningCompany,d=new Date(Date.now()),g=this._us.getuser();if("successful"==n.status){let _={app:o,transaction:n,company:p.code,code:`ZinTranz-${g.code}-${p.code}-${Date.now()}-${this.ss.generateRandomAlphanumeric(5)}`,created_at:d,updated_at:d,expires_at:new Date(d.setFullYear(d.getFullYear()+1)),status:"Active",type:"App",user:this._us.getuser().code};this._devServ.showSpinner(),this.aps.subscribe(_).pipe((0,Q.w)(x=>this.aps.getAndSetOngoingAppSubscriptionApi({code:_.code,who:x.who}).pipe((0,W.b)(T=>{if(x.code){let A=new Map;A.set(x.code,x);const M=this.aps.listOfSubscribedApps;M.unshift(T),this.aps.listOfSubscribedApps=M,this.aps.onoingApp=T.app,this.aps.appcode=T.app.code,this.aps.subscribedApps=A}})))).subscribe(x=>{this._devServ.hideSpinner(),this.dialog.close(x),this.dialog=null,this.router.navigate("ZA-001"==o.code?["admin"]:["accounting"]),setTimeout(()=>{window.location.reload()},1500)})}}makePayment(o={public_key:this.publicKey,tx_ref:`APPSUB-${this.ss.generateRandomAlphanumeric(15)}`,amount:this.app.fee,currency:"NGN",payment_options:"card,ussd",meta:this.meta,customer:this.customerDetails,customizations:this.customizations}){var n=this;return(0,s.Z)(function*(){var p,d,g;const _=n._us.getuser();o.customizations=Object.assign(Object.assign({},n.customizations),{logo:null===(p=n.app)||void 0===p?void 0:p.icon,title:`${null===(d=n.app)||void 0===d?void 0:d.short_name} Subscription`,description:`Payment for ${null===(g=n.app)||void 0===g?void 0:g.name} subscription by ${_.firstName}`}),o.customer=Object.assign(Object.assign({},n.customerDetails),{name:`${_.firstName}`,email:`${_.email}`,phone_number:`${_.phone}`,amount:o.amount}),n._devServ.showSpinner(),yield n.flutterwave.asyncInlinePay(o).then(x=>{n.subscibe(n.app,x),n.flutterwave.closePaymentModal(5)}).finally(()=>{n._devServ.hideSpinner()})})()}completeSubscription(o,n){}}return u.\u0275fac=function(o){return new(o||u)(t.Y36(U.U),t.Y36(t.s_b),t.Y36(b.K),t.Y36(Z.Bh),t.Y36(h.x),t.Y36(f.J),t.Y36(y.uw),t.Y36(C.F0),t.Y36(I.z),t.Y36(C.gz))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-choose-app"]],inputs:{id:"id",fontSize:"fontSize",height:"height",app:"app",accessFullData:"accessFullData",company:"company",selected:"selected",showDetails:"showDetails"},decls:8,vars:19,consts:[[1,"card","bg-light","bg-white","card-box","mn-h-100","pointer",3,"mouseenter","click","mouseleave"],["height","height",1,"card-img",3,"ngClass","src","alt"],["class","card-img-overlay",3,"mouseenter","mouseleave",4,"ngIf"],["class","da-card-content card-content",4,"ngIf"],[1,"card-img-overlay",3,"mouseenter","mouseleave"],["type","checkbox","name","unlocked","value","1",3,"id"],[1,"padlock",3,"for"],[1,"padlock__sr"],[1,"padlock__top"],[1,"padlock__top-a"],[1,"padlock__top-b"],[1,"padlock__bottom"],[1,"da-card-content","card-content"],[1,"text-primary","mb-0","p-4","font-16"],["viewBox","0 0 16 16","width","16","height","16","aria-hidden","true",1,"octicon","octicon-repo-forked"],["d","M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"],[1,"text-primary-light","font-12"],[1,"font-20","font-18","pl-4","text-primary"],[1,"font-12","text-primary-light"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.NdJ("mouseenter",function(d){return n.mouseEnter(d)})("click",function(){return n.unlock("#create_"+n.id+"_modal")})("mouseleave",function(d){return n.mouseLeave(d)}),t._UZ(1,"img",1),t.ALo(2,"async"),t.ALo(3,"async"),t.ALo(4,"async"),t.YNc(5,F,11,10,"div",2),t.ALo(6,"async"),t.YNc(7,P,14,6,"div",3),t.qZA()),2&o&&(t.xp6(1),t.Udp("height",n.height+"px !important"),t.Q6J("ngClass",t.kEZ(15,$,!t.lcZ(2,7,n.subscried$),!t.lcZ(3,9,n.subscried$),t.lcZ(4,11,n.subscried$)))("src",null==n.app?null:n.app.icon,t.LSH)("alt",null==n.app?null:n.app.short_name),t.xp6(4),t.Q6J("ngIf",!t.lcZ(6,13,n.subscried$)),t.xp6(2),t.Q6J("ngIf",n.showDetails))},directives:[k.mk,k.O5],pipes:[k.Ov],styles:['input[_ngcontent-%COMP%]{position:fixed;top:-1.5em;left:-1.5em}input[_ngcontent-%COMP%]:not(:checked):focus + .padlock[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:not(:checked):hover + .padlock[_ngcontent-%COMP%]{animation:.5s swing ease-in-out}input[_ngcontent-%COMP%]:checked + .padlock[_ngcontent-%COMP%]{animation:fall 2s ease-in-out forwards;transform-origin:17.5em -3em}input[_ngcontent-%COMP%]:checked + .padlock[_ngcontent-%COMP%]   .padlock__top[_ngcontent-%COMP%]{animation:unlockA .5s ease-in,unlockB .25s .5s ease-out forwards}input[_ngcontent-%COMP%]:checked + .padlock[_ngcontent-%COMP%]   .padlock__top-a[_ngcontent-%COMP%]{animation:hookA .5s ease-in,hookB .25s .5s ease-out forwards}input[_ngcontent-%COMP%]:checked + .padlock[_ngcontent-%COMP%]   .padlock__top-b[_ngcontent-%COMP%]{animation:boxShadowSwap .75s steps(1,start) forwards}.padlock[_ngcontent-%COMP%]{font-size:10px;position:relative;width:16em;height:20em;transform-origin:50% 2em;-webkit-tap-highlight-color:#0000}.padlock[_ngcontent-%COMP%]:before{background:#b3b3b3;content:"";display:block;top:5.25em;right:2.375em;width:2em;height:1.5em;z-index:1}.padlock[_ngcontent-%COMP%]:before, .padlock__top[_ngcontent-%COMP%], .padlock__top-a[_ngcontent-%COMP%], .padlock__top-b[_ngcontent-%COMP%], .padlock__bottom[_ngcontent-%COMP%]{position:absolute}.padlock__top[_ngcontent-%COMP%], .padlock__top-a[_ngcontent-%COMP%]{height:7.5em;top:0}.padlock__top[_ngcontent-%COMP%]{width:11.25em;right:2.375em}.padlock__top-a[_ngcontent-%COMP%], .padlock__top-b[_ngcontent-%COMP%]{left:0;width:100%}.padlock__top-a[_ngcontent-%COMP%]{border-radius:50% 50% 0 0/5em 5em 0 0;box-shadow:0 0 0 2em #b3b3b3 inset;clip-path:polygon(0 0,100% 0,100% 12.25em,2em 12.25em,2em 10.25em,1.25em 10.75em,1.25em 11.5em,2em 11.5em,2em 12.25em,0 12.25em)}.padlock__top-b[_ngcontent-%COMP%]{box-shadow:-2em 0 #b3b3b3 inset;height:3em;top:12em}.padlock__bottom[_ngcontent-%COMP%]{background:#021645;box-shadow:.75em 0 #c2a30a inset,2em 0 #f9e686 inset,-.75em 0 #c2a30a inset,-3em 0 #f9e686 inset;border-radius:.5em;width:100%;height:7.75em;top:7.25em}.padlock__sr[_ngcontent-%COMP%]{clip:rect(1px,1px,1px,1px);overflow:hidden;position:absolute;width:1px;height:1px}@keyframes swing{0%,to{transform:rotate(0)}25%{transform:rotate(-20deg)}50%{transform:rotate(10deg)}75%{transform:rotate(-5deg)}}@keyframes fall{0%,37.5%{opacity:1;transform:translateY(0) rotate(0)}50%{opacity:1;transform:translateY(0) rotate(-54deg)}62.5%{opacity:1;transform:translateY(0) rotate(-42deg)}75%,87.5%{opacity:1;transform:translateY(0) rotate(-45deg)}to{opacity:0;transform:translateY(20em) rotate(-45deg)}}@keyframes unlockA{0%{width:11.25em;transform:translateY(0);animation-timing-function:ease-in-out}50%{width:11.25em;transform:translateY(-5em);animation-timing-function:ease-in}to{width:2em;transform:translateY(-5em)}}@keyframes unlockB{0%{right:auto;left:11.625em;width:2em;transform:translateY(-5em)}to{right:auto;left:11.625em;width:11.25em;transform:translateY(-5em)}}@keyframes hookA{0%,50%{clip-path:polygon(0 0,100% 0,100% 12.25em,2em 12.25em,2em 10.25em,1.25em 10.75em,1.25em 11.5em,2em 11.5em,2em 12.25em,0 12.25em)}to{clip-path:polygon(0 0,100% 0,100% 12.25em,2em 12.25em,2em 10.25em,2em 10.75em,2em 11.5em,2em 11.5em,2em 12.25em,0 12.25em)}}@keyframes hookB{0%{clip-path:polygon(0 0,2em 0,2em 12.25em,0 12.25em,0 11.5em,0 11.5em,0 10.75em,0 10.25em,0 12.25em,0 12.25em)}to{clip-path:polygon(0 0,11.25em 0,11.25em 12.25em,9.2em 12.25em,9.2em 11.5em,10em 11.5em,10em 10.75em,9.2em 10.25em,9.2em 12.25em,0 12.25em)}}@keyframes boxShadowSwap{0%,67%{box-shadow:-2em 0 #b3b3b3 inset}to{box-shadow:2em 0 #b3b3b3 inset}}p[_ngcontent-%COMP%]{word-wrap:break-word}.locked[_ngcontent-%COMP%]{filter:brightness(44%)}.card-img[_ngcontent-%COMP%]{height:75px}.app_item[_ngcontent-%COMP%]{cursor:pointer}.app_item[_ngcontent-%COMP%]:hover{opacity:40%;cursor:pointer}.active[_ngcontent-%COMP%]{border:2px solid #2f8fc9bf}.lgbv[_ngcontent-%COMP%]{max-height:30px;min-height:20px;border-radius:50px;border:2px solid #284192;min-width:20px;width:29px;padding-top:5px}.sidebar-title[_ngcontent-%COMP%]{background:#021645}.bp[_ngcontent-%COMP%]{background-color:#127dc5}.rimg[_ngcontent-%COMP%]{max-height:75px;max-width:50px;text-align:left;margin:0}.wrap[_ngcontent-%COMP%]{word-wrap:break-word}.f11[_ngcontent-%COMP%]{font-size:11px}.border-t-2[_ngcontent-%COMP%]{border-top:2px solid}.epd[_ngcontent-%COMP%]{pointer-events:none}.optiontoselect[_ngcontent-%COMP%]:hover{border:2px solid;opacity:40%;cursor:pointer}.pl-4[_ngcontent-%COMP%]{padding-left:4px}']}),u})()},1899:(V,z,l)=>{l.d(z,{y:()=>se});var s=l(5304),t=l(3342),U=l(2340),y=l(205),e=l(7716),k=l(916),O=l(8583),L=l(6627),Y=l(1769),D=l(6797),J=l(5917),Q=l(6888),W=l(4395),j=l(7519),b=l(3190),Z=l(3679),h=l(6659),f=l(4758),C=l(1659),I=l(2733),F=l(2238),P=l(8347);function $(r,m){1&r&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e.TgZ(2,"div",16),e.TgZ(3,"div",17),e._UZ(4,"img",18),e.qZA(),e.TgZ(5,"div",19),e.TgZ(6,"h3",20),e._uU(7,"Support"),e.qZA(),e.TgZ(8,"span"),e._uU(9," Active "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",21),e.TgZ(11,"div",22),e.TgZ(12,"a",23),e._UZ(13,"i",24),e.qZA(),e.TgZ(14,"div",25),e.TgZ(15,"a",26),e._uU(16,"Expand"),e.qZA(),e.TgZ(17,"a",26),e._uU(18,"Export Chat"),e.qZA(),e.TgZ(19,"a",26),e._uU(20,"Search"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r&&(e.xp6(4),e.Q6J("src","assets/img/ezgif.com-webp-to-png.png",e.LSH))}function K(r,m){1&r&&(e.TgZ(0,"p",27),e._uU(1,"Nothing to see here"),e.qZA())}function u(r,m){if(1&r&&(e.TgZ(0,"p",27),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij("Send a message to start a conversation with ",null==i.selectedChat?null:i.selectedChat.name,"")}}function w(r,m){if(1&r&&e._UZ(0,"img",18),2&r){const i=e.oxw(2);e.Q6J("src",null!=i.me&&i.me.passport?null==i.me?null:i.me.passport:"assets/img/Sphere_rotating_transparency.gif",e.LSH)}}function o(r,m){if(1&r&&e._UZ(0,"img",18),2&r){const i=e.oxw(2);e.Q6J("src",null!=i.selectedChat&&i.selectedChat.passport?null==i.selectedChat?null:i.selectedChat.passport:"assets/img/Sphere_rotating_transparency.gif",e.LSH)}}function n(r,m){if(1&r&&e._UZ(0,"span",36),2&r){const i=e.oxw(2).$implicit;e.Q6J("innerHTML",null==i?null:i.content,e.oJD)}}function p(r,m){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Oqu(null==i?null:i.content)}}function d(r,m){if(1&r&&(e.TgZ(0,"div",37),e._UZ(1,"i",38),e._uU(2),e._UZ(3,"br"),e._uU(4),e.qZA()),2&r){const i=e.oxw(2).$implicit,a=e.oxw();e.xp6(2),e.hij(" ",a.getTime(i.created_at)," "),e.xp6(2),e.hij(" ",null==i?null:i.status," ")}}function g(r,m){if(1&r&&(e.TgZ(0,"div",32),e.TgZ(1,"p"),e.YNc(2,n,1,1,"span",33),e.YNc(3,p,2,1,"span",34),e.qZA(),e.YNc(4,d,5,2,"div",35),e.qZA()),2&r){const i=e.oxw().$implicit,a=e.oxw();e.xp6(2),e.Q6J("ngIf",a.isHtml(i.content)),e.xp6(1),e.Q6J("ngIf",!a.isHtml(i.content)),e.xp6(1),e.Q6J("ngIf",null==i?null:i.created_at)}}function _(r,m){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Oqu(null==i?null:i.status)}}function x(r,m){if(1&r){const i=e.EpF();e.TgZ(0,"a",45),e.NdJ("click",function(){return e.CHM(i),e.oxw(2).$implicit.status="Sent"}),e._uU(1,"Send"),e.qZA()}}function S(r,m){if(1&r&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&r){const i=e.oxw(2).$implicit,a=e.oxw();e.xp6(1),e.Oqu(a.getTime(i.created_at))}}function T(r,m){if(1&r&&(e.TgZ(0,"div",32),e.TgZ(1,"div",39),e.TgZ(2,"div",15),e._UZ(3,"img",18),e.TgZ(4,"div",40),e.TgZ(5,"a",41),e.TgZ(6,"span"),e._UZ(7,"i",42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",43),e.TgZ(9,"h3"),e._uU(10),e.qZA(),e.YNc(11,_,2,1,"span",34),e.YNc(12,x,2,0,"a",44),e.qZA(),e.qZA(),e.YNc(13,S,2,1,"div",35),e.qZA()),2&r){const i=e.oxw().$implicit,a=e.oxw();e.xp6(3),e.Q6J("src",null==i?null:i.file,e.LSH),e.xp6(7),e.Oqu(null==i?null:i.fileName),e.xp6(1),e.Q6J("ngIf","Yet"!=(null==i?null:i.status)),e.xp6(1),e.Q6J("ngIf","Yet"==(null==i?null:i.status)&&(null==i?null:i.sender)==(null==a.me?null:a.me.code)),e.xp6(1),e.Q6J("ngIf",null==i?null:i.created_at)}}const A=function(r){return{admin_chat:r}};function M(r,m){if(1&r&&(e.TgZ(0,"li",28),e.TgZ(1,"span",29),e.YNc(2,w,1,1,"img",30),e.YNc(3,o,1,1,"img",30),e.qZA(),e.YNc(4,g,5,3,"div",31),e.YNc(5,T,14,5,"div",31),e.qZA()),2&r){const i=m.$implicit,a=e.oxw();e.Q6J("ngClass",e.VKq(5,A,(null==i?null:i.sender)==(null==a.me?null:a.me.code))),e.xp6(2),e.Q6J("ngIf",(null==i?null:i.sender)==(null==a.me?null:a.me.code)),e.xp6(1),e.Q6J("ngIf",(null==i?null:i.sender)!=(null==a.me?null:a.me.code)),e.xp6(1),e.Q6J("ngIf",!(null!=i&&i.file)),e.xp6(1),e.Q6J("ngIf",null==i?null:i.file)}}const q=function(r,m){return{"mCustomScrollBox-mb":r,"mCustomScrollBox-mb-lg":m}};let N=(()=>{class r{constructor(i,a,c,v,E,H,R){this._bs=i,this.userService=a,this.formBuilder=c,this.deviceService=v,this.socketService=E,this._fs=H,this.dialogModule=R,this.recipient=this.userService.getuser(),this.me=this.userService.getuser(),this.editorConfig={editable:!0,spellcheck:!0,height:"120px",minHeight:"100px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!1,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:`${U.N.uploadApi}/upload`,upload:B=>{let ee=new FormData;return ee.append("file",B,B.name),this._fs.upload(ee).pipe((0,s.K)(te=>(0,y._)(te)),(0,t.b)(te=>{}))},uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]},this.header=!1,this.messages=[],this.dialog=null,this.searching=!1,this.foundResult=!1,this.list=[],this.user=this.userService.getuser(),this.chatList=[{code:"ZT-U1",id:"1",email:"test@info.com",firstName:"Zinder",lastName:"Admin",passport:null,status:"Active",lastSeen:"Now"}],this._chatList=[{code:"ZT-U1",id:"1",email:"test@info.com",firstName:"Zinder",lastName:"Admin",passport:null,status:"Active",lastSeen:"Now"}],this.searchContDown=1,this.searchContDown$=(0,D.H)(1e3).pipe((0,t.b)(B=>{B>98&&(this.searching=!1)})),this.searchKeyForm=this.formBuilder.group({query:new Z.NI("",[Z.kI.required,Z.kI.email])}),this.event$=this.deviceService.getEventsApi({who_like:this.user.code}),this.selectedChat=null,this.contact$=this.socketService.contacts}ngAfterViewInit(){}ngOnInit(){this.event$.subscribe(a=>this.list=a),this.searchKeyForm.controls.query.valueChanges.pipe((0,Q.n)(a=>a.length<2),(0,W.b)(1500),(0,j.x)()).subscribe(a=>{this.searchUser(a).subscribe()});let i=this.deviceService._conversations.value.get(this.recipient.code);i&&(this.messages=i),this.contact$.subscribe(a=>console.log(a)),this.socketService.getContacts()}uploadedEventHandler(i){i.sender=this.me.code,i.recipient=this.recipient.code,i.mail=null;let a={from:this.me.email,to:this.recipient.email,subject:`New Message from ${this.me.firstName} via zinder`,html:null,innerBody:i.content};this.isHtml(i.content)&&(a.html=i.content),this.deviceService.mail(a).pipe((0,s.K)(c=>(0,y._)(c))).subscribe(),this.messages.push(i)}sendEventHandler(i){console.log(i),i.sender=this.me.code,i.recipient=this.recipient.code,i.status="Sent",i.mail=null;let a={from:this.me.email,to:this.recipient.email,subject:`New Message from ${this.me.firstName} via zinder messanger`,html:null,innerBody:i.content};this.isHtml(i.content)&&(a.html=i.content),console.log(i),console.log(a),this.deviceService.sendMessage(i).pipe((0,b.w)(c=>c.id?(this.updateFeed(c),this.deviceService.mail(a).pipe((0,b.w)(v=>v.created_at?(c.mail=v,c.status="Delivered",this.updateFeed(c),c.status="Unseen",this.deviceService.updateMessage(c).pipe((0,s.K)(E=>(0,y._)(new Error("Update Error"))))):(0,J.of)(c)),(0,s.K)(v=>(0,y._)(new Error("Mail Error"))))):(0,J.of)(c)),(0,s.K)(c=>(0,y._)(new Error("Sending Message Error")))).subscribe(c=>{this.updateFeed(c),this.gotoBottom()},c=>console.error(c))}updateFeed(i){let a=this.deviceService._conversations.value,c=this.threads;const v=c.findIndex(E=>E.code==i.code);v>-1?c[v]=i:c.push(i),a.set(this.recipient.code,c),this.deviceService._conversations.next(a)}set selectChat(i){this.selectedChat=i,setTimeout(()=>{this.gotoBottom()},900)}gotoBottom(){let i=document.getElementById("chatmessaggeboxid");i&&i.scrollIntoView({top:i.scrollHeight,behavior:"smooth"})}searchUser(i){let a={email_like:i};return this.searching=!0,this.foundResult=!1,this.searchContDown$.subscribe(),this.userService.getSortedUsersApi(a).pipe((0,t.b)(c=>{this.searching=!1,this.foundResult=!0,this.list=c}))}getReadableTime(i){return new Date(i),this.getFormattedDate(i)}getFormattedDate(i){let a=new Date(i),c=a.getMonth()+1,v=a.getDate(),E=a.getHours(),H=a.getMinutes(),R=a.getSeconds();return c=(c<10?"0":"")+c,v=(v<10?"0":"")+v,E=(E<10?"0":"")+E,H=(H<10?"0":"")+H,R=(R<10?"0":"")+R,E+":"+H+":"+R+", "+a.getFullYear()+"-"+c+"-"+v}get threads(){return this.deviceService._conversations.value.get(this.recipient.code)||[]}getTime(i){return new Date(i).toLocaleDateString()}isHtml(i){return/<([A-Za-z][A-Za-z0-9]*)\b[^>]*>(.*?)<\/\1>/.test(i)}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(h.q),e.Y36(f.K),e.Y36(Z.qu),e.Y36(C.U),e.Y36(I.$),e.Y36(k.I),e.Y36(F.uw))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-chatbox"]],inputs:{recipient:"recipient",me:"me",editorConfig:"editorConfig",header:"header"},decls:16,vars:10,consts:[[1,"row"],[1,"col-md-12","mb-20","pd-20"],[1,"bg-white","border-radius-4","box-shadow","mb-30"],[1,"row","no-gutters"],[1,"col-lg-12","col-md-12","col-sm-12","max-height-600"],[1,"chat-detail"],["class","chat-profile-header clearfix",4,"ngIf"],[1,"chat-box"],["id","chatbox_thread_conversation_dialog_notify",1,"chat-desc","customscroll","mCustomScrollbar","mCustomScrollBox",3,"ngClass"],["class","text-center pb-2 pt-2 m-2 text-primary",4,"ngIf"],["class","clearfix",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-footer","min-h-50"],[1,"pt-2","pb-2","border-bs"],[3,"config","id","uploadedEvent","sendEvent"],[1,"chat-profile-header","clearfix"],[1,"left"],[1,"clearfix"],[1,"chat-profile-photo"],["alt","",3,"src"],[1,"chat-profile-name","pt-0"],[1,"mb-0"],[1,"right","text-right"],[1,"dropdown"],["href","javascript:void(0)","role","button","data-toggle","dropdown",1,"btn","btn-outline-primary","border-0","btn-sm","dropdown-toggle"],[1,"icon-copy","bi","bi-grid-3x2-gap"],[1,"dropdown-menu","dropdown-menu-right"],["href","javascript:void(0)",1,"dropdown-item"],[1,"text-center","pb-2","pt-2","m-2","text-primary"],[1,"clearfix",3,"ngClass"],[1,"chat-img"],["alt","",3,"src",4,"ngIf"],["class","chat-body clearfix",4,"ngIf"],[1,"chat-body","clearfix"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],["class","chat_time",4,"ngIf"],[3,"innerHTML"],[1,"chat_time"],[1,"icon-copy","bi","bi-reply-fill"],[1,"upload-file-box","clearfix"],[1,"overlay"],["href","javascript:void(0)"],[1,"fa","fa-angle-down"],[1,"right"],["href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.YNc(6,$,21,1,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"div",8),e.YNc(9,K,2,0,"p",9),e.YNc(10,u,2,1,"p",9),e.TgZ(11,"ul"),e.YNc(12,M,6,7,"li",10),e.qZA(),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"div",12),e.TgZ(15,"app-mail-textarea",13),e.NdJ("uploadedEvent",function(v){return a.uploadedEventHandler(v)})("sendEvent",function(v){return a.sendEventHandler(v)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(6),e.Q6J("ngIf",a.header),e.xp6(2),e.Q6J("ngClass",e.WLB(7,q,!a.editorConfig.showToolbar,a.editorConfig.showToolbar)),e.xp6(1),e.Q6J("ngIf",a.messages.length<1),e.xp6(1),e.Q6J("ngIf",a.messages.length<1),e.xp6(2),e.Q6J("ngForOf",a.threads),e.xp6(3),e.Q6J("config",a.editorConfig)("id",(null==a.me?null:a.me.code)+"_messagebox_"+(null==a.selectedChat?null:a.selectedChat.code)))},directives:[O.O5,O.mk,O.sg,P.R],styles:[".max-height-500px[_ngcontent-%COMP%]{max-height:500px!important}.bg-pry[_ngcontent-%COMP%]{background-color:#1fb6b0!important}.m-height-400[_ngcontent-%COMP%]{max-height:400px;min-height:200px}.max-height-600[_ngcontent-%COMP%]{max-height:600px}.mCustomScrollBox[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:calc(100% - 220px);max-width:100%;outline:0;direction:ltr;overflow-y:scroll}.chat-profile-header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .chat-profile-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:100%}.chat-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:100%}.min-h-50[_ngcontent-%COMP%]{min-height:60px!important}.chat-detail[_ngcontent-%COMP%]{max-height:70vh!important;min-height:10vh!important;height:70vh!important}.border-bs[_ngcontent-%COMP%]{border-bottom:1px solid}@media only screen and (max-width: 600px){.chat-detail[_ngcontent-%COMP%]{max-height:70vh!important;min-height:10vh!important;height:60vh!important}.mCustomScrollBox[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:calc(100% - 265px);max-width:100%;outline:0;direction:ltr;overflow-y:scroll}.mCustomScrollBox-mb[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:calc(100% - 150px)!important;max-width:100%;outline:0;direction:ltr;overflow-y:scroll}}@media screen and (min-width: 800px){.mCustomScrollBox-mb-lg[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:calc(100% - 340px)!important;max-width:100%;outline:0;direction:ltr;overflow-y:scroll}}"]}),r})();function G(r,m){1&r&&(e.TgZ(0,"span"),e.TgZ(1,"mat-icon"),e._uU(2,"visibility_off"),e.qZA(),e.qZA())}function X(r,m){1&r&&(e.TgZ(0,"span"),e.TgZ(1,"mat-icon"),e._uU(2,"visibility"),e.qZA(),e.qZA())}function ie(r,m){if(1&r&&(e.TgZ(0,"div",16),e._UZ(1,"app-chatbox",17),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("header",!1)("editorConfig",i.editorConfig)}}function ne(r,m){if(1&r){const i=e.EpF();e.TgZ(0,"div",18),e.TgZ(1,"button",19),e.NdJ("click",function(){return e.CHM(i),e.oxw().startedConversation=!0}),e._UZ(2,"i",20),e._uU(3," Start Chat\n"),e.qZA(),e.qZA()}}const oe=function(r){return{hide:r}},ae=function(r,m){return{hide:r,active:m}};let se=(()=>{class r{constructor(i){this._fs=i,this.title="Pop Up Notification",this.message="",this.shouldShow=!1,this.messageHistory=[],this.lists=[],this.editorConfig={editable:!0,spellcheck:!0,height:"120px",minHeight:"100px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!1,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:`${U.N.uploadApi}/upload`,upload:a=>{let c=new FormData;return c.append("file",a,a.name),this._fs.upload(c).pipe((0,s.K)(v=>(0,y._)(v)),(0,t.b)(v=>{}))},uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]},this.mssapDisplayTitle=!0,this.mssapDisablePositionSlider=!0,this.mssapDisplayRepeatControls=!0,this.mssapDisplayVolumeControls=!0,this.mssapDisplayVolumeSlider=!1,this.autoPlay=!0,this.mssapPlaylist=[{title:"Beep",link:U.N.appDomain+"/assets/audio/beep-10.wav",artist:"Beep 10",duration:4}],this.startedConversation=!1,console.log("Constructor called"),console.log(this.createdAt)}ngOnInit(){console.log("NGONINIT called"),this.createdAt||(this.createdAt=new Date(Date.now())),console.log(this.createdAt),this.loadTempoaryNotification()}loadTempoaryNotification(){[1,2,3,4,5].forEach(i=>{this.lists.push({id:i,createdAt:new Date(Date.now()),title:`Notification ${i}`,status:!1,message:`Message of notification ${i}, You have to understand for each notification, this is auto mapped and stored for tempoarydisplay. Message of notification ${i}, You have to understand for each notification, this is auto mapped and stored for tempoarydisplay.`})})}close(){this.shouldShow=!1}send(){this.messageHistory.push(this.message),this.message=""}toggleSound(){this.autoPlay=!this.autoPlay}onTrackPlaying(i){console.log(i)}onTrackPaused(i){console.log(i)}onEnded(i){console.log(i)}onNextTrackRequested(i){console.log(i)}onPreviousTrackRequested(i){console.log(i)}onTrackSelected(i){console.log(i)}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(k.I))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-notify"]],inputs:{title:"title",message:"message",createdAt:"createdAt",shouldShow:"shouldShow",messageHistory:"messageHistory"},decls:29,vars:11,consts:[[1,"welcome-modal",3,"ngClass"],[1,"row","p-1"],[1,"col-3","pointer","text-left"],[1,"weight-500","text-success","pt-10","ntitle","pointer",3,"click"],[1,"weight-500","text-outline-danger","pt-10","ntitle","pointer",3,"click"],[1,"text-center","pointer"],[4,"ngIf"],[1,"col-3","pointer","text-right"],[1,"weight-500","text-danger","pt-10","ntitle","pointer",3,"click"],[1,"p-1","text-left"],[1,"min-height-300"],[1,"row"],["class","col-md-12",4,"ngIf"],["class","col-md-12 text-center",4,"ngIf"],[1,"welcome-modal-btn",3,"ngClass","click"],[1,"icon-copy","bi","bi-chat-dots-fill"],[1,"col-md-12"],[3,"header","editorConfig"],[1,"col-md-12","text-center"],[1,"btn","btn-sm","btn-primary","mtb-40",3,"click"],[1,"icon-copy","bi","bi-chat-square-quote-fill"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"span",3),e.NdJ("click",function(){return a.send()}),e.TgZ(4,"mat-icon"),e._uU(5,"signal_wifi_4_bar"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",2),e.TgZ(7,"span",4),e.NdJ("click",function(){return a.editorConfig.showToolbar=!a.editorConfig.showToolbar}),e.TgZ(8,"small",5),e.YNc(9,G,3,0,"span",6),e.YNc(10,X,3,0,"span",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"span",8),e.NdJ("click",function(){return a.startedConversation=!1}),e.TgZ(13,"mat-icon"),e._uU(14,"close"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",7),e.TgZ(16,"span",8),e.NdJ("click",function(){return a.close()}),e.TgZ(17,"mat-icon"),e._uU(18,"minimize"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",9),e._UZ(20,"mat-divider"),e.TgZ(21,"div",10),e.TgZ(22,"div",11),e.YNc(23,ie,2,2,"div",12),e.YNc(24,ne,4,0,"div",13),e.qZA(),e.qZA(),e._UZ(25,"mat-divider"),e.qZA(),e.qZA(),e.TgZ(26,"button",14),e.NdJ("click",function(){return a.shouldShow=!a.shouldShow}),e._UZ(27,"i",15),e._uU(28," Chat\n"),e.qZA()),2&i&&(e.Q6J("ngClass",e.VKq(6,oe,!a.shouldShow)),e.xp6(9),e.Q6J("ngIf",a.editorConfig.showToolbar),e.xp6(1),e.Q6J("ngIf",!a.editorConfig.showToolbar),e.xp6(13),e.Q6J("ngIf",a.startedConversation),e.xp6(1),e.Q6J("ngIf",!a.startedConversation),e.xp6(2),e.Q6J("ngClass",e.WLB(8,ae,a.shouldShow,!a.shouldShow)))},directives:[O.mk,L.Hw,O.O5,Y.d,N],styles:[".welcome-modal[_ngcontent-%COMP%], .welcome-modal-btn[_ngcontent-%COMP%]{position:fixed;right:24px;z-index:120}.mtb-40[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:40px}.welcome-modal[_ngcontent-%COMP%]{bottom:50px;width:320px;background:#fff;border-radius:12px 12px 0 0;padding:0 24px 16px;box-shadow:0 0 44px #0003;z-index:120}.welcome-modal[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{pointer-events:none;width:100%;height:90px;margin:0 auto;display:block}.iframediv[_ngcontent-%COMP%]{pointer-events:none;max-width:100%;display:block}.pt-10[_ngcontent-%COMP%]{padding-top:10px}.scrollme[_ngcontent-%COMP%]{height:200px}.welcome-modal[_ngcontent-%COMP%]   .welcome-modal-close[_ngcontent-%COMP%]{position:absolute;top:15px;width:100%;height:24px;font-size:16px;line-height:1;border:0;background:transparent;border-radius:4px;color:#000;display:flex;align-items:center;justify-content:center}.welcome-modal[_ngcontent-%COMP%]   .welcome-modal-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{font-weight:700!important}.welcome-modal-btn[_ngcontent-%COMP%]{bottom:4px;height:44px;padding:0 20px;background:#CF9F00;color:#fff;font-size:15px;border:0;border-radius:8px;transition:all .3s ease-in-out}.welcome-modal-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:6px}.hide[_ngcontent-%COMP%]{display:none!important}.ntitle[_ngcontent-%COMP%]{border-bottom:3px solid}@media only screen and (max-width: 600px){.welcome-modal[_ngcontent-%COMP%]{width:370px;height:565px}.welcome-modal[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{max-width:145px}.welcome-modal[_ngcontent-%COMP%]   .welcome-modal-close[_ngcontent-%COMP%]{right:-6px;top:17px;width:100%}}"]}),r})()},8347:(V,z,l)=>{l.d(z,{R:()=>j});var s=l(7716),t=l(2340),U=l(205),y=l(5304),e=l(3342),k=l(916),O=l(5947),L=l(1659),Y=l(263),D=l(3679),J=l(8583);function Q(b,Z){if(1&b){const h=s.EpF();s.TgZ(0,"label",14),s.NdJ("change",function(){s.CHM(h);const C=s.oxw();return C.config.showToolbar=!C.config.showToolbar}),s._UZ(1,"input",12),s._UZ(2,"i",15),s.qZA()}if(2&b){const h=s.oxw();s.xp6(1),s.MGl("id","",h.id,"option2")}}function W(b,Z){if(1&b){const h=s.EpF();s.TgZ(0,"label",14),s.NdJ("change",function(){s.CHM(h);const C=s.oxw();return C.config.showToolbar=!C.config.showToolbar}),s._UZ(1,"input",12),s._UZ(2,"i",16),s.qZA()}if(2&b){const h=s.oxw();s.xp6(1),s.MGl("id","",h.id,"option4")}}let j=(()=>{class b{constructor(h,f,C){this._fs=h,this.ss=f,this._ds=C,this.uploadedEvent=new s.vpe,this.sendEvent=new s.vpe,this.uploaded=[],this.data=null,this.id=null,this.config={editable:!0,spellcheck:!0,height:"auto",minHeight:"50",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:`${t.N.uploadApi}/upload`,upload:I=>{let F=new FormData;return F.append("file",I,I.name),this._fs.upload(F).pipe((0,y.K)(P=>(0,U._)(P)),(0,e.b)(P=>{P.status="Yet",this.uploaded.unshift(P);let $=new Date(Date.now()),K=Object.assign(Object.assign(Object.assign({},this.newMessage),P),{created_at:$,updated_at:$,code:`${this.id}-at-${$.getMilliseconds()}-file-${this.ss.generateRandomAlphanumeric(5)}`});this.uploadedEvent.emit(K),this.data="",this.reset()}))},uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]},this.newMessage={content:null,status:"Yet",code:`${this.ss.generateRandomAlphanumeric(10)}`,file:null,sender:null,recipient:null,dir:null,message:null,fileName:null,serverLocation:null,uploadPath:null,created_at:"",updated_at:""}}ngOnInit(){}send(){if(this.data){let h=new Date(Date.now()),f=Object.assign(Object.assign({},this.newMessage),{created_at:h,updated_at:h,code:`${this.id}-at-${h.getMilliseconds()}`,status:"Sending",content:this.data});this.sendEvent.emit(f),this.data=null,this.reset()}else this._ds.oInfoNotification("Empty Message","Message content cannot  be empty")}reset(){this.newMessage={content:null,status:"Yet",code:`${this.id}-at-${this.ss.generateRandomAlphanumeric(10)}`,file:null,sender:null,recipient:null,dir:null,message:null,fileName:null,serverLocation:null,uploadPath:null,created_at:"",updated_at:""}}}return b.\u0275fac=function(h){return new(h||b)(s.Y36(k.I),s.Y36(O.x),s.Y36(L.U))},b.\u0275cmp=s.Xpm({type:b,selectors:[["app-mail-textarea"]],inputs:{uploaded:"uploaded",data:"data",id:"id",config:"config"},outputs:{uploadedEvent:"uploadedEvent",sendEvent:"sendEvent"},decls:16,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[3,"config","id","placeholder","ngModel","ngModelChange"],[1,"col-md-12","text-right","pt-2"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-outline-primary","active",2,"background","transparent",3,"change"],["type","checkbox","name","options","autocomplete","off","checked","",3,"id"],["href","javascript:void(0)",1,"mr-2"],[1,"fa","fa-paperclip"],["class","btn btn-primary",3,"change",4,"ngIf"],[1,"btn","btn-success",3,"change"],["type","checkbox","name","options","autocomplete","off",3,"id"],[1,"icon-copy","ion-paper-airplane"],[1,"btn","btn-primary",3,"change"],[1,"icon-copy","bi","bi-layer-forward"],[1,"icon-copy","bi","bi-keyboard"]],template:function(h,f){1&h&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"angular-editor",3),s.NdJ("ngModelChange",function(I){return f.data=I}),s.qZA(),s.qZA(),s.TgZ(4,"div",4),s.TgZ(5,"div",0),s.TgZ(6,"div",5),s.TgZ(7,"label",6),s.NdJ("change",function(){return f.send()}),s._UZ(8,"input",7),s.TgZ(9,"a",8),s._UZ(10,"i",9),s.qZA(),s.qZA(),s.YNc(11,Q,3,1,"label",10),s.YNc(12,W,3,1,"label",10),s.TgZ(13,"label",11),s.NdJ("change",function(){return f.send()}),s._UZ(14,"input",12),s._UZ(15,"i",13),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&h&&(s.xp6(3),s.s9C("id",f.id),s.Q6J("config",f.config)("placeholder","Type nmessge...")("ngModel",f.data),s.xp6(5),s.MGl("id","",f.id,"option1"),s.xp6(3),s.Q6J("ngIf",f.config.showToolbar),s.xp6(1),s.Q6J("ngIf",!f.config.showToolbar),s.xp6(2),s.MGl("id","",f.id,"option3"))},directives:[Y.s6,D.JJ,D.On,J.O5],styles:[".angular-editor-textarea[_ngcontent-%COMP%]{color:#000!important}angular-editor[_ngcontent-%COMP%]{color:#000!important}.chat_send[_ngcontent-%COMP%]{width:50%!important}.take80[_ngcontent-%COMP%]{width:80%!important}.take100[_ngcontent-%COMP%]{width:100%!important}.take50[_ngcontent-%COMP%]{width:50%!important}.darkbtn-sec[_ngcontent-%COMP%]{background:#021645}"]}),b})()}}]);