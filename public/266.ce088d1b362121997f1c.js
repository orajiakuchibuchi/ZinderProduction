"use strict";(self.webpackChunksparklingv2=self.webpackChunksparklingv2||[]).push([[266],{9014:(O,T,l)=>{l.d(T,{h:()=>C});var c=l(8583),m=l(4655),e=l(7716);const A=[];let b=(()=>{class d{}return d.\u0275fac=function(Z){return new(Z||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[[m.Bz.forChild(A)],m.Bz]}),d})();var q=l(8831);let C=(()=>{class d{}return d.\u0275fac=function(Z){return new(Z||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[[c.ez,b,q.m]]}),d})()},266:(O,T,l)=>{l.r(T),l.d(T,{MessangerModule:()=>at});var c=l(8583),m=l(4655),e=l(7716),A=l(2733);let b=(()=>{class n{constructor(t){this.socketService=t}ngOnInit(){this.socketService.socket.on("connect",this.connected)}connected(){this.socketService.getContacts(),console.log("Socket Connected")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.$))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-messanger"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[m.lC],styles:[""]}),n})();var q=l(8239),C=l(6797),d=l(205),_=l(5917),Z=l(3342),y=l(6888),M=l(4395),k=l(7519),v=l(5304),U=l(3190),h=l(2238),S=l(8002),Q=l(7349),Y=l(2340),x=l(4758),F=l(916),j=l(7613),I=l(1659),r=l(3679),R=l(263),H=l(5396),J=l(1095),N=l(6627);function $(n,i){if(1&n&&(e.TgZ(0,"p",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.errMessage)}}function E(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",56),e.TgZ(1,"a",57),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().remove(s.code)}),e.TgZ(2,"mat-icon"),e._uU(3,"remove_circle"),e.qZA(),e.qZA(),e.qZA()}}function B(n,i){if(1&n&&(e.TgZ(0,"li",47),e.TgZ(1,"div",48),e.TgZ(2,"div",49),e._UZ(3,"img",50),e.qZA(),e.TgZ(4,"div",51),e.TgZ(5,"span",52),e._uU(6),e.qZA(),e.TgZ(7,"div",53),e._uU(8),e.qZA(),e.TgZ(9,"div",54),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.YNc(11,E,4,0,"div",55),e.qZA()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(6),e.Oqu(null==t?null:t.code),e.xp6(2),e.lnq("",(null==o.user?null:o.user.code)==(null==t?null:t.code)?"(Me)":""," ",null==t?null:t.firstName," ",null==t?null:t.lastName,""),e.xp6(2),e.hij(" ",t.code!=o.user.code?"Member":"Host"," "),e.xp6(1),e.Q6J("ngIf",t.code!=o.user.code)}}function D(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",56),e.TgZ(1,"a",58),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().addUser(s)}),e.TgZ(2,"mat-icon"),e._uU(3,"person_add"),e.qZA(),e.qZA(),e.qZA()}}function P(n,i){if(1&n&&(e.TgZ(0,"li",47),e.TgZ(1,"div",48),e.TgZ(2,"div",49),e._UZ(3,"img",50),e.qZA(),e.TgZ(4,"div",51),e.TgZ(5,"span",52),e._uU(6),e.qZA(),e.TgZ(7,"div",53),e._uU(8),e.qZA(),e.TgZ(9,"div",54),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.YNc(11,D,4,0,"div",55),e.qZA()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(6),e.Oqu(null==t?null:t.code),e.xp6(2),e.AsE("",null==t?null:t.firstName," ",null==t?null:t.lastName,""),e.xp6(2),e.hij(" ",null==t?null:t.role," "),e.xp6(1),e.Q6J("ngIf",!o.addedUserAlready(t.code))}}function V(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(s){return e.CHM(t),e.oxw().saveNew(s)}),e._uU(1,"Save"),e.qZA()}}let K=(()=>{class n{constructor(t,o,s,a,g){this.data=t,this._uservice=o,this._fs=s,this._cs=a,this.deviceService=g,this.user=this._uservice.getuser(),this.reoccuring=!1,this.seaecheKey="",this.typeofSelected="",this.starts="",this.errMessage="",this.successMessage="",this.ends="",this.title="",this.today=new Date(Date.now()),this.searchResult=new e.vpe,this.addedUser=[this.user],this.searchResult$=this.searchResult.pipe((0,k.x)(),(0,y.n)(u=>u.length<3),(0,M.b)(900),(0,U.w)(u=>this.seaecheKey.length<2?(0,_.of)([]):this._uservice.getSortedUsersApi({code_ne:this.user.code,firstName_like:this.seaecheKey,email_like:this.seaecheKey}).pipe((0,S.U)(p=>p.filter(f=>!this.addedUser.find(lt=>lt.code==f.code))))),(0,Q.d)()),this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"50",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:`${Y.N.uploadApi}/upload`,upload:u=>{let p=new FormData;return p.append("file",u,u.name),this._fs.upload(p).pipe((0,v.K)(f=>(0,d._)(f)),(0,Z.b)(f=>{}))},uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]},this.message="",this.today.setDate(this.today.getDate()),this.today=this.today.toISOString().slice(0,16)}ngOnInit(){}saveNew(t){let o="";if(this.errMessage="",this.successMessage="",this.typeofSelected||(o+="Is this a meeting/task event.\n"),this.starts||(o+="Time to start is required.\n"),this.ends||(o+="Time to end is required.\n"),this.title||(o+="Title is required\n"),this.errMessage=o,o.length>1)return void this.deviceService.oErrorNotification("Opps",o);let s={type:this.typeofSelected,start:this.starts,end:this.ends,title:this.title,message:this.message,company:this._cs.runningCompany.code,creator:this.user.code,code:"Z-"+this.typeofSelected+Date.now(),notifified:!1,status:"upcoming",created_at:new Date(Date.now()),updated_at:new Date(Date.now()),reoccuring:this.reoccuring,users:this.addedUser.map(a=>({email:a.email,code:a.code,membership:a.code==this.user.code?"host":"invite"}))};this.successMessage=`${s.title} successfully saved. ${s.users.length} Participants`,this.deviceService.newEventsApi(s).subscribe(a=>{var g;this.deviceService.oSuccessNotification(`${s.type} Created`,this.successMessage),null===(g=this.data)||void 0===g||g.actionDone(t)})}nameSearchChange(t){this.searchResult.emit(t),this.searchResult.subscribe(),this.searchResult$.subscribe()}addUser(t){this.addedUser.push(t),this.seaecheKey="",this.nameSearchChange(this.seaecheKey)}addedUserAlready(t){return this.addedUser.indexOf(o=>o.code==t)>-1}remove(t){this.addedUser=this.addedUser.filter(o=>o.code!=t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.WI),e.Y36(x.K),e.Y36(F.I),e.Y36(j.J),e.Y36(I.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create"]],decls:84,vars:26,consts:[["mat-dialog-title",""],[1,"container-fluid","text-white"],[1,"mat-typography"],[1,"container-fluid"],[1,"row","pd-20","mb-10"],[1,"col-md-12"],[1,"text-danger"],[1,"text-success"],[1,"col-md-6"],[1,"row"],[1,"col-md-4","col-sm-12"],["for","typeOfShed",1,"pt-4","text-primary"],[1,"tex-danger"],["name","typeofSelected",1,"form-control",3,"ngModel","ngModelChange"],["value","Meeting","selected",""],["value","Event"],[1,"col-md-8","col-sm-12"],["for","seaecheKey",1,"pt-4","text-primary"],["type","text","name","title",1,"form-control","search-input",3,"ngModel","placeholder","ngModelChange"],["type","datetime-local","name","starts",1,"form-control","search-input",3,"ngModel","min","placeholder","ngModelChange"],["type","datetime-local","name","ends",1,"form-control","search-input",3,"min","ngModel","placeholder","ngModelChange"],[1,"card-body"],["for","typeOfShed",1,"pt-4","pb-2","text-primary"],[3,"config","placeholder","ngModel","ngModelChange"],["class","text-danger pt-2 pb-2",4,"ngIf"],[1,"col-lg-6","col-md-6"],[1,"card-box","height-100-p","pd-20","min-height-200px"],[1,"d-flex","justify-content-between","pb-10"],[1,"h5","mb-0"],[1,"pr-4"],[3,"color","ngModel","ngModelChange"],[1,"dropdown"],["data-color","#1b3133","href","javascript:void()","role","button","data-toggle","dropdown",1,"btn","btn-link","font-24","p-0","line-height-1","no-arrow","dropdown-toggle",2,"color","rgb(27, 49, 51)"],[1,"dw","dw-more"],[1,"dropdown-menu","dropdown-menu-right","dropdown-menu-icon-list"],["href","javascript:void()",1,"dropdown-item"],[1,"dw","dw-eye"],[1,"dw","dw-edit2"],[1,"dw","dw-delete-3"],["type","text","name","seaecheKey","placeholder","Search Here",1,"form-control","search-input",3,"ngModel","ngModelChange"],[1,"user-list"],["class","d-flex align-items-center  justify-content-between",4,"ngFor","ngForOf"],["class","d-flex align-items-center justify-content-between",4,"ngFor","ngForOf"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","","class","sub-btn",3,"click",4,"ngIf"],[1,"text-danger","pt-2","pb-2"],[1,"d-flex","align-items-center","justify-content-between"],[1,"name-avatar","d-flex","align-items-center","pr-2"],[1,"avatar","mr-2","flex-shrink-0"],["src","assets/vendors/images/photo1.jpg","width","50","height","50","alt","",1,"border-radius-100","box-shadow"],[1,"txt"],["data-bgcolor","#e7ebf5","data-color","#265ed7",1,"badge","badge-pill","badge-sm",2,"color","rgb(38, 94, 215)","background-color","rgb(231, 235, 245)"],[1,"font-14","weight-600","text-primary"],["data-color","#b2b1b6",1,"font-12","weight-500",2,"color","rgb(178, 177, 182)"],["class","cta flex-shrink-0",4,"ngIf"],[1,"cta","flex-shrink-0"],["href","javascript:void()",1,"btn","btn-sm","btn-danger","btn-outline-primary",3,"click"],["href","javascript:void()",1,"btn","btn-sm","btn-outline-primary",3,"click"],["mat-button","","cdkFocusInitial","",1,"sub-btn",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"h2",0),e.TgZ(1,"div",1),e._uU(2," New "),e.qZA(),e.qZA(),e.TgZ(3,"mat-dialog-content",2),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"h3"),e._uU(8,"Create New Event Or Task"),e.qZA(),e.TgZ(9,"p",6),e._uU(10),e.qZA(),e.TgZ(11,"p",7),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"div",8),e.TgZ(14,"div",9),e.TgZ(15,"div",10),e.TgZ(16,"label",11),e._uU(17,"This is a(an) "),e.TgZ(18,"span",12),e._uU(19,"*"),e.qZA(),e.qZA(),e.TgZ(20,"select",13),e.NdJ("ngModelChange",function(a){return o.typeofSelected=a}),e.TgZ(21,"option",14),e._uU(22,"Meeting"),e.qZA(),e.TgZ(23,"option",15),e._uU(24,"Task"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",16),e.TgZ(26,"label",17),e._uU(27,"Title "),e.TgZ(28,"span",12),e._uU(29,"*"),e.qZA(),e.qZA(),e.TgZ(30,"input",18),e.NdJ("ngModelChange",function(a){return o.title=a}),e.qZA(),e.qZA(),e.TgZ(31,"div",8),e.TgZ(32,"label",11),e._uU(33,"Begins At "),e.TgZ(34,"span",12),e._uU(35,"*"),e.qZA(),e.qZA(),e.TgZ(36,"input",19),e.NdJ("ngModelChange",function(a){return o.starts=a}),e.qZA(),e.qZA(),e.TgZ(37,"div",8),e.TgZ(38,"label",11),e._uU(39,"Ends At "),e.TgZ(40,"span",12),e._uU(41,"*"),e.qZA(),e.qZA(),e.TgZ(42,"input",20),e.NdJ("ngModelChange",function(a){return o.ends=a}),e.qZA(),e.qZA(),e.TgZ(43,"div",5),e.TgZ(44,"div",21),e.TgZ(45,"label",22),e._uU(46,"Message Box"),e.qZA(),e.TgZ(47,"angular-editor",23),e.NdJ("ngModelChange",function(a){return o.message=a}),e.qZA(),e.YNc(48,$,2,1,"p",24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",25),e.TgZ(50,"div",26),e.TgZ(51,"div",27),e.TgZ(52,"div",28),e.TgZ(53,"span",29),e._uU(54),e.qZA(),e.TgZ(55,"mat-slide-toggle",30),e.NdJ("ngModelChange",function(a){return o.reoccuring=a}),e._uU(56),e.qZA(),e.qZA(),e.TgZ(57,"div",31),e.TgZ(58,"a",32),e._UZ(59,"i",33),e.qZA(),e.TgZ(60,"div",34),e.TgZ(61,"a",35),e._UZ(62,"i",36),e._uU(63," View"),e.qZA(),e.TgZ(64,"a",35),e._UZ(65,"i",37),e._uU(66," Edit"),e.qZA(),e.TgZ(67,"a",35),e._UZ(68,"i",38),e._uU(69," Delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",9),e.TgZ(71,"div",5),e.TgZ(72,"label",17),e._uU(73,"Add/Invite User"),e.qZA(),e.TgZ(74,"input",39),e.NdJ("ngModelChange",function(a){return o.seaecheKey=a})("ngModelChange",function(a){return o.nameSearchChange(a)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(75,"div",40),e.TgZ(76,"ul"),e.YNc(77,B,12,6,"li",41),e.YNc(78,P,12,5,"li",42),e.ALo(79,"async"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(80,"mat-dialog-actions",43),e.TgZ(81,"button",44),e._uU(82,"Close"),e.qZA(),e.YNc(83,V,2,0,"button",45),e.qZA()),2&t&&(e.xp6(10),e.hij(" ",o.errMessage," "),e.xp6(2),e.hij(" ",o.successMessage," "),e.xp6(8),e.Q6J("ngModel",o.typeofSelected),e.xp6(10),e.MGl("placeholder","",o.typeofSelected," title"),e.Q6J("ngModel",o.title),e.xp6(6),e.s9C("min",o.today),e.MGl("placeholder","",o.typeofSelected," starts"),e.Q6J("ngModel",o.starts),e.xp6(6),e.s9C("min",o.starts),e.MGl("placeholder","",o.typeofSelected," ends"),e.Q6J("ngModel",o.ends),e.xp6(5),e.Q6J("config",o.editorConfig)("placeholder","Dear"+(o.addedUser.length<2?o.addedUser[0].firstName:" Users, "))("ngModel",o.message),e.xp6(1),e.Q6J("ngIf",o.errMessage),e.xp6(6),e.AsE("",o.addedUser.length," ",o.addedUser.length>1?"Participants":"Participant",""),e.xp6(1),e.Q6J("color","warn")("ngModel",o.reoccuring),e.xp6(1),e.Oqu(o.reoccuring?"Yes, schedule next ...":"One time"),e.xp6(18),e.Q6J("ngModel",o.seaecheKey),e.xp6(3),e.Q6J("ngForOf",o.addedUser),e.xp6(1),e.Q6J("ngForOf",e.lcZ(79,24,o.searchResult$)),e.xp6(5),e.Q6J("ngIf",null==o.data?null:o.data.actionDone))},directives:[h.uh,h.xY,r.EJ,r.JJ,r.On,r.YN,r.Kr,r.Fj,R.s6,c.O5,H.Rr,c.sg,h.H8,J.lW,h.ZT,N.Hw],pipes:[c.Ov],styles:[".tp[_ngcontent-%COMP%]{color:#000!important}mat-dialog-content[_ngcontent-%COMP%]{background-color:#fff!important}.mat-dialog-container[_ngcontent-%COMP%]{background-color:#fff!important}.mat-dialog-title[_ngcontent-%COMP%]{color:#000!important}.sub-btn[_ngcontent-%COMP%]{border:2px solid}"]}),n})();var w=l(6659),z=l(8347);function G(n,i){if(1&n&&(e.TgZ(0,"div",28),e._UZ(1,"div",29),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Udp("width",e.lcZ(2,2,t.searchContDown$)+"%")}}const W=function(n,i,t){return{"text-light-green":n,"text-warning":i,"text-light-orange":t}};function X(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"li",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectChat=a}),e.TgZ(1,"a",32),e._UZ(2,"img",33),e.TgZ(3,"h3",34),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._UZ(6,"i",35),e._uU(7),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=i.$implicit;e.xp6(2),e.Q6J("src",t.passport?t.passport:"assets/img/profile2.svg",e.LSH),e.xp6(2),e.hij("",null==t?null:t.name," "),e.xp6(2),e.Q6J("ngClass",e.kEZ(4,W,"Active"==t.status||"online"==t.status,"Inactive"==t.status,"Offline"==t.status)),e.xp6(1),e.hij(" ",null==t?null:t.status," ")}}function ee(n,i){if(1&n&&(e.TgZ(0,"ul"),e.YNc(1,X,8,8,"li",30),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.contact$))}}function te(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"li",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectChat=a}),e.TgZ(1,"a",32),e._UZ(2,"img",33),e.TgZ(3,"h3",34),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=i.$implicit;e.xp6(2),e.Q6J("src",t.passport?t.passport:"assets/img/profile2.svg",e.LSH),e.xp6(2),e.AsE("",null==t?null:t.firstName," ",null==t?null:t.lastName,""),e.xp6(2),e.hij(" ",null==t?null:t.email," ")}}function ne(n,i){if(1&n&&(e.TgZ(0,"ul"),e.YNc(1,te,7,4,"li",30),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.list)}}function oe(n,i){if(1&n&&e._UZ(0,"img",33),2&n){const t=e.oxw(3);e.Q6J("src",null==t.selectedChat?null:t.selectedChat.passport,e.LSH)}}function ie(n,i){1&n&&e._UZ(0,"img",33),2&n&&e.Q6J("src","assets/img/ezgif.com-webp-to-png.png",e.LSH)}function se(n,i){1&n&&(e.TgZ(0,"p",58),e._uU(1,"Nothing to see here"),e.qZA())}function ae(n,i){if(1&n&&(e.TgZ(0,"p",58),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij("Send a message to start a conversation with ",null==t.selectedChat?null:t.selectedChat.name,"")}}function le(n,i){if(1&n&&e._UZ(0,"img",33),2&n){const t=e.oxw(4);e.Q6J("src",null!=t.me&&t.me.passport?null==t.me?null:t.me.passport:"assets/img/Sphere_rotating_transparency.gif",e.LSH)}}function re(n,i){if(1&n&&e._UZ(0,"img",33),2&n){const t=e.oxw(4);e.Q6J("src",null!=t.selectedChat&&t.selectedChat.passport?null==t.selectedChat?null:t.selectedChat.passport:"assets/img/Sphere_rotating_transparency.gif",e.LSH)}}function ce(n,i){if(1&n&&e._UZ(0,"span",65),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",null==t?null:t.content,e.oJD)}}function de(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(null==t?null:t.content)}}function ge(n,i){if(1&n&&(e.TgZ(0,"div",66),e._UZ(1,"i",67),e._uU(2),e._UZ(3,"br"),e._uU(4),e.qZA()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(3);e.xp6(2),e.hij(" ",o.getTime(t.created_at)," "),e.xp6(2),e.hij(" ",null==t?null:t.status," ")}}function ue(n,i){if(1&n&&(e.TgZ(0,"div",62),e.TgZ(1,"p"),e.YNc(2,ce,1,1,"span",63),e.YNc(3,de,2,1,"span",26),e.qZA(),e.YNc(4,ge,5,2,"div",64),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(2),e.Q6J("ngIf",o.isHtml(t.content)),e.xp6(1),e.Q6J("ngIf",!o.isHtml(t.content)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.created_at)}}function pe(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(null==t?null:t.status)}}function me(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",74),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).$implicit.status="Sent"}),e._uU(1,"Send"),e.qZA()}}function Ze(n,i){if(1&n&&(e.TgZ(0,"div",66),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(3);e.xp6(1),e.Oqu(o.getTime(t.created_at))}}function _e(n,i){if(1&n&&(e.TgZ(0,"div",62),e.TgZ(1,"div",68),e.TgZ(2,"div",40),e._UZ(3,"img",33),e.TgZ(4,"div",69),e.TgZ(5,"a",70),e.TgZ(6,"span"),e._UZ(7,"i",71),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",72),e.TgZ(9,"h3"),e._uU(10),e.qZA(),e.YNc(11,pe,2,1,"span",26),e.YNc(12,me,2,0,"a",73),e.qZA(),e.qZA(),e.YNc(13,Ze,2,1,"div",64),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(3),e.Q6J("src",null==t?null:t.file,e.LSH),e.xp6(7),e.Oqu(null==t?null:t.fileName),e.xp6(1),e.Q6J("ngIf","Yet"!=(null==t?null:t.status)),e.xp6(1),e.Q6J("ngIf","Yet"==(null==t?null:t.status)&&(null==t?null:t.sender)==(null==o.me?null:o.me.code)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.created_at)}}const he=function(n){return{admin_chat:n}};function fe(n,i){if(1&n&&(e.TgZ(0,"li",59),e.TgZ(1,"span",60),e.YNc(2,le,1,1,"img",42),e.YNc(3,re,1,1,"img",42),e.qZA(),e.YNc(4,ue,5,3,"div",61),e.YNc(5,_e,14,5,"div",61),e.qZA()),2&n){const t=i.$implicit,o=e.oxw(3);e.Q6J("ngClass",e.VKq(5,he,(null==t?null:t.sender)==(null==o.me?null:o.me.code))),e.xp6(2),e.Q6J("ngIf",(null==t?null:t.sender)==(null==o.me?null:o.me.code)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.sender)!=(null==o.me?null:o.me.code)),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.file)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.file)}}function ve(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",38),e.TgZ(1,"div",39),e.TgZ(2,"div",40),e.TgZ(3,"div",34),e.TgZ(4,"div",41),e.YNc(5,oe,1,1,"img",42),e.YNc(6,ie,1,1,"img",42),e.qZA(),e.TgZ(7,"div",43),e.TgZ(8,"h3",44),e._uU(9),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",45),e.TgZ(13,"div",46),e.TgZ(14,"a",47),e._UZ(15,"i",48),e.qZA(),e.TgZ(16,"div",49),e.TgZ(17,"a",50),e._uU(18,"Expand"),e.qZA(),e.TgZ(19,"a",50),e._uU(20,"Export Chat"),e.qZA(),e.TgZ(21,"a",50),e._uU(22,"Search"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",51),e.TgZ(24,"div",52),e.YNc(25,se,2,0,"p",53),e.YNc(26,ae,2,1,"p",53),e.TgZ(27,"ul"),e.YNc(28,fe,6,7,"li",54),e.qZA(),e.qZA(),e.TgZ(29,"div",55),e.TgZ(30,"div",56),e.TgZ(31,"app-mail-textarea",57),e.NdJ("uploadedEvent",function(s){return e.CHM(t),e.oxw(2).uploadedEventHandler(s)})("sendEvent",function(s){return e.CHM(t),e.oxw(2).sendEventHandler(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("ngIf",null==t.selectedChat?null:t.selectedChat.passport),e.xp6(1),e.Q6J("ngIf",!(null!=t.selectedChat&&t.selectedChat.passport)),e.xp6(3),e.Oqu(null==t.selectedChat?null:t.selectedChat.name),e.xp6(2),e.hij(" ",null==t.selectedChat?null:t.selectedChat.status," "),e.xp6(13),e.hYB("id","",null==t.me?null:t.me.code,"_thread_conversation_dialog_",null==t.selectedChat?null:t.selectedChat.code,""),e.xp6(1),e.Q6J("ngIf",t.messages.length<1),e.xp6(1),e.Q6J("ngIf",t.messages.length<1),e.xp6(2),e.Q6J("ngForOf",t.threads),e.xp6(3),e.Q6J("id",(null==t.me?null:t.me.code)+"_messagebox_"+(null==t.selectedChat?null:t.selectedChat.code))}}function Te(n,i){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,ve,32,10,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.me?null:t.me.code)&&(null==t.recipient?null:t.recipient.code))}}const Ae=function(){return["/admin/home/dashboard"]};let L=(()=>{class n{constructor(t,o,s,a,g,u){this._bs=t,this.userService=o,this.formBuilder=s,this.deviceService=a,this.socketService=g,this.dialogModule=u,this.recipient=this.userService.getuser(),this.me=this.userService.getuser(),this.messages=[],this.dialog=null,this.searching=!1,this.foundResult=!1,this.list=[],this.user=this.userService.getuser(),this.chatList=[{code:"ZT-U1",id:"1",email:"test@info.com",firstName:"Zinder",lastName:"Admin",passport:null,status:"Active",lastSeen:"Now"}],this._chatList=[{code:"ZT-U1",id:"1",email:"test@info.com",firstName:"Zinder",lastName:"Admin",passport:null,status:"Active",lastSeen:"Now"}],this.searchContDown=1,this.searchContDown$=(0,C.H)(1e3).pipe((0,Z.b)(p=>{p>98&&(this.searching=!1)})),this.searchKeyForm=this.formBuilder.group({query:new r.NI("",[r.kI.required,r.kI.email])}),this.event$=this.deviceService.getEventsApi({who_like:this.user.code}),this.selectedChat=null,this.contact$=this.socketService.contacts}ngAfterViewInit(){}ngOnInit(){this.event$.subscribe(o=>this.list=o),this.searchKeyForm.controls.query.valueChanges.pipe((0,y.n)(o=>o.length<2),(0,M.b)(1500),(0,k.x)()).subscribe(o=>{this.searchUser(o).subscribe()});let t=this.deviceService._conversations.value.get(this.recipient.code);t&&(this.messages=t),this.contact$.subscribe(o=>console.log(o)),this.socketService.getContacts()}uploadedEventHandler(t){t.sender=this.me.code,t.recipient=this.recipient.code,t.mail=null;let o={from:this.me.email,to:this.recipient.email,subject:`New Message from ${this.me.firstName} via zinder`,html:null,innerBody:t.content};this.isHtml(t.content)&&(o.html=t.content),this.deviceService.mail(o).pipe((0,v.K)(s=>(0,d._)(s))).subscribe(),this.messages.push(t)}sendEventHandler(t){console.log(t),t.sender=this.me.code,t.recipient=this.recipient.code,t.status="Sent",t.mail=null;let o={from:this.me.email,to:this.recipient.email,subject:`New Message from ${this.me.firstName} via zinder messanger`,html:null,innerBody:t.content};this.isHtml(t.content)&&(o.html=t.content),console.log(t),console.log(o),this.deviceService.sendMessage(t).pipe((0,U.w)(s=>s.id?(this.updateFeed(s),this.deviceService.mail(o).pipe((0,U.w)(a=>a.created_at?(s.mail=a,s.status="Delivered",this.updateFeed(s),s.status="Unseen",this.deviceService.updateMessage(s).pipe((0,v.K)(g=>(0,d._)(new Error("Update Error"))))):(0,_.of)(s)),(0,v.K)(a=>(0,d._)(new Error("Mail Error"))))):(0,_.of)(s)),(0,v.K)(s=>(0,d._)(new Error("Sending Message Error")))).subscribe(s=>{this.updateFeed(s),this.gotoBottom()},s=>console.error(s))}updateFeed(t){let o=this.deviceService._conversations.value,s=this.threads;const a=s.findIndex(g=>g.code==t.code);a>-1?s[a]=t:s.push(t),o.set(this.recipient.code,s),this.deviceService._conversations.next(o)}set selectChat(t){this.selectedChat=t,setTimeout(()=>{this.gotoBottom()},900)}gotoBottom(){let t=document.getElementById("chatmessaggeboxid");t&&t.scrollIntoView({top:t.scrollHeight,behavior:"smooth"})}searchUser(t){let o={email_like:t};return this.searching=!0,this.foundResult=!1,this.searchContDown$.subscribe(),this.userService.getSortedUsersApi(o).pipe((0,Z.b)(s=>{this.searching=!1,this.foundResult=!0,this.list=s}))}newEvent(){return this.dialogModule.open(K,{hasBackdrop:!0,disableClose:!0,data:{spinnerName:"Create-Booking-Spinner",actionDone:(t=(0,q.Z)(function*(o){}),function(s){return t.apply(this,arguments)})}});var t}getReadableTime(t){return new Date(t),this.getFormattedDate(t)}getFormattedDate(t){let o=new Date(t),s=o.getMonth()+1,a=o.getDate(),g=o.getHours(),u=o.getMinutes(),p=o.getSeconds();return s=(s<10?"0":"")+s,a=(a<10?"0":"")+a,g=(g<10?"0":"")+g,u=(u<10?"0":"")+u,p=(p<10?"0":"")+p,g+":"+u+":"+p+", "+o.getFullYear()+"-"+s+"-"+a}get threads(){return this.deviceService._conversations.value.get(this.recipient.code)||[]}getTime(t){return new Date(t).toLocaleDateString()}isHtml(t){return/<([A-Za-z][A-Za-z0-9]*)\b[^>]*>(.*?)<\/\1>/.test(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.q),e.Y36(x.K),e.Y36(r.qu),e.Y36(I.U),e.Y36(A.$),e.Y36(h.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-records"]],inputs:{recipient:"recipient",me:"me"},decls:39,vars:7,consts:[[1,"page-header"],[1,"row"],[1,"col-md-6","col-sm-12"],[1,"title"],["aria-label","breadcrumb","role","navigation"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void()","routerLinkActive","router-link-active",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","mb-20","pd-20"],[1,"bg-white","border-radius-4","box-shadow","mb-30"],[1,"row","no-gutters"],[1,"col-lg-3","col-md-4","col-sm-12"],[1,"chat-list","bg-light-gray"],[1,"chat-search"],["data-bgcolor","#455a64",1,"card-box",2,"background-color","#FFF"],[1,"justify-content-between","pd-10","text-primary","text-left"],[1,"col-md-6"],[1,"pb-2","font-18","pt-2","text-primary","weight-500"],[1,"col-md-6","text-right"],["mat-raised-button","","color","primary",1,"bg-pry"],[3,"formGroup"],["type","text","name","query","formControlName","query","placeholder","Search Contact"],[1,"ti-search"],[1,"notification-list","chat-notification-list","customscroll"],["class","progress",4,"ngIf"],[4,"ngIf"],["class","col-lg-9 col-md-8 col-sm-12 max-height-600",4,"ngIf"],[1,"progress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info","progress-bar-striped","progress-bar-animated"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["href","javascript:void()"],["alt","",3,"src"],[1,"clearfix"],[1,"fa","fa-circle","text-light-green",3,"ngClass"],[1,"col-lg-9","col-md-8","col-sm-12","max-height-600"],["class","chat-detail",4,"ngIf"],[1,"chat-detail"],[1,"chat-profile-header","clearfix"],[1,"left"],[1,"chat-profile-photo"],["alt","",3,"src",4,"ngIf"],[1,"chat-profile-name","pt-0"],[1,"mb-0"],[1,"right","text-right"],[1,"dropdown"],["href","javascript:void(0)","role","button","data-toggle","dropdown",1,"btn","btn-outline-primary","border-0","btn-sm","dropdown-toggle"],[1,"icon-copy","bi","bi-grid-3x2-gap"],[1,"dropdown-menu","dropdown-menu-right"],["href","javascript:void(0)",1,"dropdown-item"],[1,"chat-box"],[1,"chat-desc","customscroll","mCustomScrollbar","mCustomScrollBox",3,"id"],["class","text-center pb-2 pt-2 m-2 text-primary",4,"ngIf"],["class","clearfix",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-footer","min-h-50"],[1,"pt-2","pb-2","border-bs"],[3,"id","uploadedEvent","sendEvent"],[1,"text-center","pb-2","pt-2","m-2","text-primary"],[1,"clearfix",3,"ngClass"],[1,"chat-img"],["class","chat-body clearfix",4,"ngIf"],[1,"chat-body","clearfix"],[3,"innerHTML",4,"ngIf"],["class","chat_time",4,"ngIf"],[3,"innerHTML"],[1,"chat_time"],[1,"icon-copy","bi","bi-reply-fill"],[1,"upload-file-box","clearfix"],[1,"overlay"],["href","javascript:void(0)"],[1,"fa","fa-angle-down"],[1,"right"],["href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h4"),e._uU(5,"Messanger"),e.qZA(),e.qZA(),e.TgZ(6,"nav",4),e.TgZ(7,"ol",5),e.TgZ(8,"li",6),e.TgZ(9,"a",7),e._uU(10,"Home"),e.qZA(),e.qZA(),e.TgZ(11,"li",8),e._uU(12," Messanger "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",1),e.TgZ(14,"div",9),e.TgZ(15,"div",10),e.TgZ(16,"div",11),e.TgZ(17,"div",12),e.TgZ(18,"div",13),e.TgZ(19,"div",14),e.TgZ(20,"div",15),e.TgZ(21,"div",16),e.TgZ(22,"div",1),e.TgZ(23,"div",17),e.TgZ(24,"p",18),e._uU(25,"My Chats"),e.qZA(),e.qZA(),e.TgZ(26,"div",19),e.TgZ(27,"button",20),e.TgZ(28,"mat-icon"),e._uU(29," chat"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"form",21),e.TgZ(31,"div",14),e._UZ(32,"input",22),e._UZ(33,"span",23),e.qZA(),e.qZA(),e.TgZ(34,"div",24),e.YNc(35,G,3,4,"div",25),e.YNc(36,ee,3,3,"ul",26),e.YNc(37,ne,2,1,"ul",26),e.qZA(),e.qZA(),e.qZA(),e.YNc(38,Te,2,1,"div",27),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("routerLink",e.DdM(6,Ae)),e.xp6(21),e.Q6J("formGroup",o.searchKeyForm),e.xp6(5),e.Q6J("ngIf",o.searching),e.xp6(1),e.Q6J("ngIf",!o.searching&&!o.foundResult),e.xp6(1),e.Q6J("ngIf",!o.searching&&o.foundResult),e.xp6(1),e.Q6J("ngIf",o.selectedChat))},directives:[m.yS,m.Od,J.lW,N.Hw,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,c.O5,c.sg,c.mk,z.R],pipes:[c.Ov],styles:[".max-height-500px[_ngcontent-%COMP%]{max-height:500px!important}.bg-pry[_ngcontent-%COMP%]{background-color:#1fb6b0!important}.m-height-400[_ngcontent-%COMP%]{max-height:400px;min-height:200px}.max-height-600[_ngcontent-%COMP%]{max-height:600px}.mCustomScrollBox[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:calc(100% - 160px);max-width:100%;outline:0;direction:ltr;overflow-y:scroll}.chat-profile-header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .chat-profile-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:100%}.chat-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:100%}.min-h-50[_ngcontent-%COMP%]{min-height:60px!important}.chat-detail[_ngcontent-%COMP%]{max-height:70vh!important;min-height:10vh!important;height:70vh!important}.border-bs[_ngcontent-%COMP%]{border-bottom:1px solid}"]}),n})();function xe(n,i){1&n&&e._UZ(0,"i",32)}function be(n,i){1&n&&e._UZ(0,"span")}function qe(n,i){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}function Ce(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"select",33),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().booking.status=s}),e.TgZ(1,"option",34),e.ALo(2,"titlecase"),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e.YNc(5,qe,3,4,"option",35),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.booking.status),e.xp6(1),e.Q6J("value",e.lcZ(2,4,t.booking.status)),e.xp6(2),e.Oqu(e.lcZ(4,6,t.booking.status)),e.xp6(2),e.Q6J("ngForOf",t.statList)}}function Ue(n,i){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"titlecase"),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",e.lcZ(2,3,t.firstName)," ",e.lcZ(3,5,t.lastName),"")}}function we(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"select",33),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).booking.cleaner=s}),e.TgZ(1,"option",37),e._uU(2,"Assign Cleaner"),e.qZA(),e.YNc(3,Ue,4,7,"option",35),e.qZA()}if(2&n){const t=i.ngIf,o=e.oxw(2);e.Q6J("ngModel",o.booking.cleaner),e.xp6(3),e.Q6J("ngForOf",t)}}function ye(n,i){if(1&n&&(e.TgZ(0,"div",23),e.TgZ(1,"label"),e._uU(2,"Change Cleaner"),e.qZA(),e.YNc(3,we,4,2,"select",24),e.ALo(4,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",e.lcZ(4,1,t.cleaners$))}}function Me(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",41),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).confirmed=!0}),e._UZ(1,"i",42),e._uU(2," Delete"),e.qZA()}}function ke(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",43),e.NdJ("click",function(s){return e.CHM(t),e.oxw(2).deleteBooking(s)}),e._UZ(1,"i",42),e._uU(2," Yes, I want to delete"),e.qZA()}}const Ie=function(n,i){return{"btn-outline-danger":n,"btn-danger":i}};function Je(n,i){if(1&n&&(e.TgZ(0,"button",38),e.YNc(1,Me,3,0,"a",39),e.YNc(2,ke,3,0,"a",40),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.WLB(3,Ie,!t.confirmed,t.confirmed)),e.xp6(1),e.Q6J("ngIf",!t.confirmed),e.xp6(1),e.Q6J("ngIf",t.confirmed)}}function Ne(n,i){if(1&n&&(e.TgZ(0,"a",44),e.ALo(1,"date"),e.ALo(2,"date"),e.ALo(3,"date"),e.ALo(4,"date"),e._uU(5,"Mail Invoice"),e.qZA()),2&n){const t=i.ngIf,o=e.oxw();e.H6O("href",["mailto:",t.email,"?Subject=My Booking #",o.booking.id,"&body=Order was booked at ",e.lcZ(1,12,null==o.booking?null:o.booking.created_at)," of current status ",null==o.booking?null:o.booking.status," starts at ",e.lcZ(2,14,null==o.booking?null:o.booking.start)," ending at ",e.lcZ(3,16,null==o.booking?null:o.booking.end)," frequently ",null==o.booking?null:o.booking.frequency," and was last updated at ",e.lcZ(4,18,null==o.booking?null:o.booking.updated_at)," \\n Booking Description ",null==o.booking?null:o.booking.description," \\nAddress: ",null==o.booking?null:o.booking.name,", ",null==o.booking?null:o.booking.postal," , ",null==o.booking?null:o.booking.country,""],e.LSH)}}let Le=(()=>{class n{constructor(t,o){this._us=t,this._bs=o,this.showLabel=!1,this.showIcon=!0,this.confirmed=!1,this.statList=["report request"],this.isAdmin=this._us.checkIfUserHasRole("Admin").pipe((0,Z.b)(s=>{s&&(this.statList=["pending","successful","completed","report request"])})),this.user$=this._us.user$,this.cleaners$=this._us.cleaners$}ngOnInit(){}deleteBooking(t){t.preventDefault(),this._bs.delete(this.booking.id).subscribe()}updateBooking(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.K),e.Y36(w.q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view"]],inputs:{showLabel:"showLabel",showIcon:"showIcon",booking:"booking",index:"index"},decls:93,vars:45,consts:[["href","javascript:void()","data-toggle","modal","type","button",1,"btn-block"],["class","icon-copy dw dw-edit2",4,"ngIf"],[4,"ngIf"],["tabindex","-1","role","dialog","aria-hidden","true","data-backdrop","static",1,"modal","fade","bs-example-modal-lg",3,"id"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button","data-dismiss","modal","aria-hidden","true",1,"close"],[1,"modal-body"],[1,"pd-20","card-box"],[1,"mb-30","h4"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-9"],[1,"col-sm-3","text-truncate"],[1,"wrap"],[1,"col-md-6"],[1,"card","card-box"],["src","assets/img/team-1.jpg","alt","Card image cap",1,"card-img-top","mx-h-300"],[1,"card-body"],[1,"card-title","weight-500"],[1,"card-text"],[1,"form-group"],["class","form-control","name","cleaner",3,"ngModel","ngModelChange",4,"ngIf"],["name","message","rows","3","cols","3","placeholder","Optional Message",1,"form-control"],["class","form-group",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","btn-sm"],["type","button","class","btn btn-sm",3,"ngClass",4,"ngIf"],["type","button","class","btn btn-primary text-white btn-sm","target","_top",3,"href",4,"ngIf"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[1,"icon-copy","dw","dw-edit2"],["name","cleaner",1,"form-control",3,"ngModel","ngModelChange"],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["value","","selected",""],["type","button",1,"btn","btn-sm",3,"ngClass"],["href","javascript:void()","data-color","#ffffff","class","text-dark",3,"click",4,"ngIf"],["href","javascript:void()","data-color","#ffffff","class","text-white","data-dismiss","modal",3,"click",4,"ngIf"],["href","javascript:void()","data-color","#ffffff",1,"text-dark",3,"click"],[1,"icon-copy","dw","dw-delete-3"],["href","javascript:void()","data-color","#ffffff","data-dismiss","modal",1,"text-white",3,"click"],["type","button","target","_top",1,"btn","btn-primary","text-white","btn-sm",3,"href"]],template:function(t,o){1&t&&(e.TgZ(0,"a",0),e.YNc(1,xe,1,0,"i",1),e.YNc(2,be,1,0,"span",2),e.TgZ(3,"small"),e._uU(4,"View"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"h4",7),e._uU(10," Booking Information "),e.qZA(),e.TgZ(11,"button",8),e._uU(12," \xd7 "),e.qZA(),e.qZA(),e.TgZ(13,"div",9),e.TgZ(14,"div",10),e.TgZ(15,"h4",11),e._uU(16),e.qZA(),e.TgZ(17,"dl",12),e.TgZ(18,"dt",13),e._uU(19,"Created At"),e.qZA(),e.TgZ(20,"dd",14),e._uU(21),e.ALo(22,"date"),e.qZA(),e.TgZ(23,"dt",13),e._uU(24,"Status"),e.qZA(),e.TgZ(25,"dd",14),e.TgZ(26,"p"),e._uU(27),e.ALo(28,"titlecase"),e.qZA(),e.qZA(),e.TgZ(29,"dt",13),e._uU(30,"Begins At"),e.qZA(),e.TgZ(31,"dd",14),e._uU(32),e.ALo(33,"date"),e.qZA(),e.TgZ(34,"dt",15),e._uU(35," Ending At "),e.qZA(),e.TgZ(36,"dd",14),e._uU(37),e.ALo(38,"date"),e.qZA(),e.TgZ(39,"dt",15),e._uU(40," How frequently? "),e.qZA(),e.TgZ(41,"dd",14),e._uU(42),e.ALo(43,"titlecase"),e.qZA(),e.TgZ(44,"dt",15),e._uU(45," Pricing "),e.qZA(),e.TgZ(46,"dd",14),e._uU(47),e.qZA(),e.TgZ(48,"dt",15),e._uU(49," Cleaner "),e.qZA(),e.TgZ(50,"dd",14),e._uU(51),e.qZA(),e.TgZ(52,"dt",15),e._uU(53," Last Updated "),e.qZA(),e.TgZ(54,"dd",14),e._uU(55),e.ALo(56,"date"),e.qZA(),e.TgZ(57,"dt",15),e._uU(58," Description "),e.qZA(),e.TgZ(59,"dd",14),e.TgZ(60,"span",16),e._uU(61),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",12),e.TgZ(63,"div",17),e.TgZ(64,"div",18),e._UZ(65,"img",19),e.TgZ(66,"div",20),e.TgZ(67,"h5",21),e._uU(68,"Cleaner Name"),e.qZA(),e.TgZ(69,"p",22),e._uU(70," Cleaner rating "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(71,"div",17),e.TgZ(72,"div",23),e.TgZ(73,"label"),e._uU(74),e.ALo(75,"async"),e.qZA(),e.YNc(76,Ce,6,8,"select",24),e.ALo(77,"async"),e.qZA(),e.TgZ(78,"div",23),e.TgZ(79,"label"),e._uU(80,"Message"),e.qZA(),e._UZ(81,"textarea",25),e.qZA(),e.qZA(),e.qZA(),e.YNc(82,ye,5,3,"div",26),e.ALo(83,"async"),e.qZA(),e.qZA(),e.TgZ(84,"div",27),e.TgZ(85,"button",28),e._uU(86," Close "),e.qZA(),e.YNc(87,Je,3,6,"button",29),e.ALo(88,"async"),e.YNc(89,Ne,6,20,"a",30),e.ALo(90,"async"),e.TgZ(91,"button",31),e.NdJ("click",function(){return o.updateBooking()}),e._uU(92," Update "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.uIk("data-target","#bd-example-modal-lg-"+o.index),e.xp6(1),e.Q6J("ngIf",o.showIcon),e.xp6(1),e.Q6J("ngIf",o.showLabel),e.xp6(3),e.Q6J("id","bd-example-modal-lg-"+o.index),e.uIk("aria-labelledby","myLargeModalLabel"+o.index),e.xp6(4),e.MGl("id","myLargeModalLabel",o.index,""),e.xp6(7),e.lnq("",null==o.booking?null:o.booking.name,", ",null==o.booking?null:o.booking.postal," , ",null==o.booking?null:o.booking.country,""),e.xp6(5),e.hij(" ",e.lcZ(22,23,null==o.booking?null:o.booking.created_at)," "),e.xp6(6),e.hij(" ",e.lcZ(28,25,null==o.booking?null:o.booking.status)," "),e.xp6(5),e.hij(" ",e.lcZ(33,27,null==o.booking?null:o.booking.start)," "),e.xp6(5),e.hij(" ",e.lcZ(38,29,null==o.booking?null:o.booking.end)," "),e.xp6(5),e.hij(" ",e.lcZ(43,31,null==o.booking?null:o.booking.frequency)," "),e.xp6(5),e.hij(" \xa3",null==o.booking?null:o.booking.payment.amount," "),e.xp6(4),e.hij(" ",null==o.booking?null:o.booking.cleaner," "),e.xp6(4),e.hij(" ",e.lcZ(56,33,null==o.booking?null:o.booking.updated_at)," "),e.xp6(6),e.hij(" ",null==o.booking?null:o.booking.description," "),e.xp6(13),e.Oqu(e.lcZ(75,35,o.isAdmin)?"Booking Status":"Request update"),e.xp6(2),e.Q6J("ngIf",e.lcZ(77,37,o.cleaners$)),e.xp6(6),e.Q6J("ngIf",e.lcZ(83,39,o.isAdmin)),e.xp6(5),e.Q6J("ngIf",e.lcZ(88,41,o.isAdmin)),e.xp6(2),e.Q6J("ngIf",e.lcZ(90,43,o.user$)))},directives:[c.O5,r.EJ,r.JJ,r.On,r.YN,r.Kr,c.sg,c.mk],pipes:[c.uU,c.rS,c.Ov],styles:[".wrap[_ngcontent-%COMP%]{word-break:break-all}.mx-h-300[_ngcontent-%COMP%]{max-height:300px}"]}),n})();var Oe=l(1812);const Se=function(){return["/admin/home/dashboard"]};function Qe(n,i){1&n&&(e.TgZ(0,"div",11),e.TgZ(1,"div",12),e.TgZ(2,"div",13),e.TgZ(3,"div",14),e.TgZ(4,"h4"),e._uU(5,"All Booking"),e.qZA(),e.qZA(),e.TgZ(6,"nav",15),e.TgZ(7,"ol",16),e.TgZ(8,"li",17),e.TgZ(9,"a",18),e._uU(10,"Home"),e.qZA(),e.qZA(),e.TgZ(11,"li",19),e._uU(12," Booking list "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(9),e.Q6J("routerLink",e.DdM(1,Se)))}function Ye(n,i){1&n&&(e.TgZ(0,"div",20),e._uU(1,"Create New booking"),e.qZA())}function Fe(n,i){if(1&n&&(e.TgZ(0,"code"),e._uU(1),e.qZA()),2&n){const t=i.ngIf;e.xp6(1),e.Oqu(t.length)}}function je(n,i){if(1&n&&(e.TgZ(0,"p"),e._uU(1,"Total "),e.YNc(2,Fe,2,1,"code",6),e.ALo(3,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,t.bookings$))}}function Re(n,i){1&n&&e._UZ(0,"i",27)}function He(n,i){1&n&&e._UZ(0,"i",28)}function $e(n,i){1&n&&(e.TgZ(0,"span",29),e._uU(1,"Create"),e.qZA())}function Ee(n,i){1&n&&(e.TgZ(0,"span",30),e._uU(1,"Back"),e.qZA())}function Be(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",21),e.TgZ(1,"a",22),e.NdJ("click",function(s){return e.CHM(t),e.oxw().closeForm(s)}),e.YNc(2,Re,1,0,"i",23),e.YNc(3,He,1,0,"i",24),e.YNc(4,$e,2,0,"span",25),e.YNc(5,Ee,2,0,"span",26),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.showCreateForm),e.xp6(1),e.Q6J("ngIf",t.showCreateForm),e.xp6(1),e.Q6J("ngIf",!t.showCreateForm),e.xp6(1),e.Q6J("ngIf",t.showCreateForm)}}function De(n,i){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td",34),e.TgZ(2,"div",37),e.TgZ(3,"div",38),e.TgZ(4,"div",39),e._uU(5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"date"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.ALo(23,"date"),e.qZA(),e.TgZ(24,"td"),e.TgZ(25,"div",40),e.TgZ(26,"a",41),e._UZ(27,"app-view",42),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=i.$implicit,o=i.index;e.xp6(5),e.Oqu(t.name),e.xp6(2),e.Oqu(t.country),e.xp6(2),e.Oqu(t.postal),e.xp6(2),e.Oqu(e.lcZ(12,12,t.start)),e.xp6(3),e.Oqu(e.lcZ(15,14,t.end)),e.xp6(3),e.Oqu(t.status),e.xp6(2),e.Oqu(e.lcZ(20,16,t.created_at)),e.xp6(3),e.Oqu(e.lcZ(23,18,t.updated_at)),e.xp6(5),e.Q6J("booking",t)("showLabel",!0)("index",o)("showIcon",!1)}}function Pe(n,i){if(1&n&&(e.TgZ(0,"table",33),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th",34),e.TgZ(4,"small"),e._uU(5,"Name"),e.qZA(),e.qZA(),e.TgZ(6,"th"),e.TgZ(7,"small"),e._uU(8,"Country"),e.qZA(),e.qZA(),e.TgZ(9,"th"),e.TgZ(10,"small"),e._uU(11,"Postal"),e.qZA(),e.qZA(),e.TgZ(12,"th"),e.TgZ(13,"small"),e._uU(14,"Start"),e.qZA(),e.qZA(),e.TgZ(15,"th"),e.TgZ(16,"small"),e._uU(17,"End"),e.qZA(),e.qZA(),e.TgZ(18,"th"),e.TgZ(19,"small"),e._uU(20,"Status"),e.qZA(),e.qZA(),e.TgZ(21,"th"),e.TgZ(22,"small"),e._uU(23,"Created At"),e.qZA(),e.qZA(),e.TgZ(24,"th"),e.TgZ(25,"small"),e._uU(26,"Updated At"),e.qZA(),e.qZA(),e.TgZ(27,"th",35),e._uU(28,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"tbody"),e.YNc(30,De,28,20,"tr",36),e.qZA(),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(30),e.Q6J("ngForOf",t)}}function Ve(n,i){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Pe,31,1,"table",32),e.qZA()),2&n){const t=i.ngIf,o=e.oxw();e.xp6(1),e.Q6J("ngIf",!o.showCreateForm&&t.length>0)}}function Ke(n,i){1&n&&(e.TgZ(0,"p"),e._uU(1,"No record found"),e.qZA())}function ze(n,i){if(1&n&&(e.TgZ(0,"div",43),e.YNc(1,Ke,2,0,"p",6),e.qZA()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf",t.length<1)}}function Ge(n,i){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td",34),e.TgZ(2,"div",37),e.TgZ(3,"div",38),e.TgZ(4,"div",39),e._uU(5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"date"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.ALo(23,"date"),e.qZA(),e.TgZ(24,"td"),e.TgZ(25,"div",40),e.TgZ(26,"a",41),e._UZ(27,"i",48),e.qZA(),e.TgZ(28,"a",49),e._UZ(29,"i",50),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=i.$implicit;e.xp6(5),e.Oqu(t.name),e.xp6(2),e.Oqu(t.country),e.xp6(2),e.Oqu(t.postal),e.xp6(2),e.Oqu(e.lcZ(12,8,t.start)),e.xp6(3),e.Oqu(e.lcZ(15,10,t.end)),e.xp6(3),e.Oqu(t.status),e.xp6(2),e.Oqu(e.lcZ(20,12,t.created_at)),e.xp6(3),e.Oqu(e.lcZ(23,14,t.updated_at))}}function We(n,i){if(1&n&&(e.TgZ(0,"div",31),e.TgZ(1,"table",33),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",34),e.TgZ(5,"small"),e._uU(6,"Name"),e.qZA(),e.qZA(),e.TgZ(7,"th"),e.TgZ(8,"small"),e._uU(9,"Country"),e.qZA(),e.qZA(),e.TgZ(10,"th"),e.TgZ(11,"small"),e._uU(12,"Postal"),e.qZA(),e.qZA(),e.TgZ(13,"th"),e.TgZ(14,"small"),e._uU(15,"Start"),e.qZA(),e.qZA(),e.TgZ(16,"th"),e.TgZ(17,"small"),e._uU(18,"End"),e.qZA(),e.qZA(),e.TgZ(19,"th"),e.TgZ(20,"small"),e._uU(21,"Status"),e.qZA(),e.qZA(),e.TgZ(22,"th"),e.TgZ(23,"small"),e._uU(24,"Created At"),e.qZA(),e.qZA(),e.TgZ(25,"th"),e.TgZ(26,"small"),e._uU(27,"Updated At"),e.qZA(),e.qZA(),e.TgZ(28,"th",35),e._uU(29,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"tbody"),e.YNc(31,Ge,30,16,"tr",36),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(31),e.Q6J("ngForOf",t)}}function Xe(n,i){1&n&&(e.TgZ(0,"div",43),e.TgZ(1,"p"),e._uU(2,"No record found"),e.qZA(),e.qZA())}function et(n,i){if(1&n&&(e.TgZ(0,"div",47),e.YNc(1,We,32,1,"div",8),e.YNc(2,Xe,3,0,"div",9),e.qZA()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0),e.xp6(1),e.Q6J("ngIf",0==t.length)}}function tt(n,i){if(1&n&&(e.TgZ(0,"div",44),e.TgZ(1,"div",12),e.YNc(2,et,3,2,"div",45),e.ALo(3,"async"),e.TgZ(4,"div",46),e._UZ(5,"app-calendar"),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,t.bookings$))}}const nt=[{path:"",component:b,children:[{path:"",component:L},{path:"records",component:L},{path:"all",component:(()=>{class n{constructor(t,o){this._us=t,this._bs=o,this.title=!0,this.showCreateButton=!0,this.showCreateForm=!1,this.bookings$=this._bs.bookings$}ngOnInit(){}closeForm(t){t.preventDefault(),this.showCreateForm=!this.showCreateForm}saveCompleted(t){this.showCreateForm=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.K),e.Y36(w.q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["booking-list"]],inputs:{title:"title",showCreateButton:"showCreateButton"},decls:14,vars:11,consts:[["class","page-header",4,"ngIf"],[1,"card-box","pb-10"],[1,"clearfix","mb-20","pd-20"],[1,"pull-left"],[1,"h5","mb-0"],["class","h6 mb-0",4,"ngIf"],[4,"ngIf"],["class","pull-right",4,"ngIf"],["class","table-responsive",4,"ngIf"],["class","text-center p-2",4,"ngIf"],["class","p-2",4,"ngIf"],[1,"page-header"],[1,"row"],[1,"col-md-6","col-sm-12"],[1,"title"],["aria-label","breadcrumb","booking","navigation"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void()","routerLinkActive","router-link-active",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"h6","mb-0"],[1,"pull-right"],["href","javascript:void()","rel","content-y","data-toggle","collapse","booking","button","aria-expanded","true",1,"btn","btn-primary","btn-sm","scroll-click",3,"click"],["class","fa fa-plus",4,"ngIf"],["class","fa fa-step-backward",4,"ngIf"],["class","ml-2",4,"ngIf"],["class","mvscode-file://vscode-app/c:/Users/HP/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/code/electron-sandbox/workbench/workbench.htmll-2",4,"ngIf"],[1,"fa","fa-plus"],[1,"fa","fa-step-backward"],[1,"ml-2"],[1,"mvscode-file://vscode-app/c:/Users/HP/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/code/electron-sandbox/workbench/workbench.htmll-2"],[1,"table-responsive"],["class","data-table table nowrap",4,"ngIf"],[1,"data-table","table","nowrap"],[1,"table-plus"],[1,"datatable-nosort"],[4,"ngFor","ngForOf"],[1,"name-avatar","d-flex","align-items-center"],[1,"txt"],[1,"weight-600"],[1,"table-actions"],["href","javascript:void()","data-color","#265ed7"],[3,"booking","showLabel","index","showIcon"],[1,"text-center","p-2"],[1,"p-2"],["class","col-xl-6 col-lg-6col-md-6 mb-20",4,"ngIf"],[1,"col-xl-6","col-lg-6","col-md-6","mb-20"],[1,"col-xl-6","col-lg-6col-md-6","mb-20"],[1,"icon-copy","dw","dw-edit2"],["href","javascript:void()","data-color","#e95959"],[1,"icon-copy","dw","dw-delete-3"]],template:function(t,o){1&t&&(e.YNc(0,Qe,13,2,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e._uU(5,"List Of bookings"),e.qZA(),e.YNc(6,Ye,2,0,"div",5),e.YNc(7,je,4,3,"p",6),e.qZA(),e.YNc(8,Be,6,4,"div",7),e.qZA(),e.YNc(9,Ve,2,1,"div",8),e.ALo(10,"async"),e.YNc(11,ze,2,1,"div",9),e.ALo(12,"async"),e.YNc(13,tt,6,3,"div",10),e.qZA()),2&t&&(e.Q6J("ngIf",o.title),e.xp6(6),e.Q6J("ngIf",o.showCreateForm),e.xp6(1),e.Q6J("ngIf",!o.showCreateForm),e.xp6(1),e.Q6J("ngIf",o.showCreateButton),e.xp6(1),e.Q6J("ngIf",e.lcZ(10,7,o.bookings$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(12,9,o.bookings$)),e.xp6(2),e.Q6J("ngIf",o.showCreateForm))},directives:[c.O5,m.yS,m.Od,c.sg,Le,Oe.e],pipes:[c.Ov,c.uU],styles:[""]}),n})()}]}];let ot=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(nt)],m.Bz]}),n})();var it=l(8831),st=l(9014);let at=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.ez,ot,it.m,st.h]]}),n})()}}]);